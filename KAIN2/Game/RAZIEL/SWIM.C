#include "Game/CORE.H"
#include "SWIM.H"
#include "Game/STATE.H"
#include "Game/RAZCNTRL.H"
#include "Game/GAMEPAD.H"
#include "Game/RAZIEL/STEERING.H"
#include "Game/RAZIEL/RAZIEL.H"
#include "Game/CAMERA.H"
#include "Game/RAZIEL/CONTROL.H"

void StateHandlerInitSwim(struct __CharacterState* In, int CurrentSection, int Data) // Matching - 99.93%
{
	G2EmulationSwitchAnimation(In, CurrentSection, 61, 0, 9, 2);

	StateSwitchStateData(In, CurrentSection, &StateHandlerSwimTread, 0);

	In->SectionList[CurrentSection].Data2 |= 2;

	if ((PadData[0] & RazielCommands[3]))
	{
		EnMessageQueueData(&In->SectionList[CurrentSection].Defer, 0x80000001, 0);
	}

	if (CurrentSection == 2)
	{
		Raziel.RotationSegment = 1;

		Raziel.Mode = 0x40000;

		SteerSwitchMode(In->CharacterInstance, 6);

		ControlFlag = 0x191;

		CAMERA_ChangeToUnderWater(&theCamera, In->CharacterInstance);

		ExtraRot = &ExtraRotData;

		ExtraRotData.x = 128;

		ExternalForces[0].Friction = 3968;
	}
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerSwimCoil(struct __CharacterState *In /*$s1*/, int CurrentSection /*$s2*/, int Data /*$s7*/)
void StateHandlerSwimCoil(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 54, offset 0x8009f008
	/* begin block 1 */
		// Start line: 55
		// Start offset: 0x8009F008
		// Variables:
			struct __Event *Ptr; // $s0
			struct evPhysicsSwimData *SwimData; // $a0
			int rc; // $s6
			int release; // $s5

		/* begin block 1.1 */
			// Start line: 237
			// Start offset: 0x8009F688
			// Variables:
				struct evMonsterHitData *data; // $v1
		/* end block 1.1 */
		// End offset: 0x8009F69C
		// End Line: 240
	/* end block 1 */
	// End offset: 0x8009F75C
	// End Line: 273

	/* begin block 2 */
		// Start line: 108
	/* end block 2 */
	// End Line: 109
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerSwimTread(struct __CharacterState *In /*$s1*/, int CurrentSection /*$s2*/, int Data /*$a2*/)
void StateHandlerSwimTread(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 277, offset 0x8009f788
	/* begin block 1 */
		// Start line: 278
		// Start offset: 0x8009F788
		// Variables:
			struct __Event *Ptr; // $a0
			struct evPhysicsSwimData *SwimData; // $s0

		/* begin block 1.1 */
			// Start line: 422
			// Start offset: 0x8009FCC8
			// Variables:
				struct evPhysicsEdgeData *data; // $s0
		/* end block 1.1 */
		// End offset: 0x8009FD10
		// End Line: 428

		/* begin block 1.2 */
			// Start line: 448
			// Start offset: 0x8009FDAC
			// Variables:
				//struct evMonsterHitData *data; // $v1
		/* end block 1.2 */
		// End offset: 0x8009FDCC
		// End Line: 453
	/* end block 1 */
	// End offset: 0x8009FF24
	// End Line: 493

	/* begin block 2 */
		// Start line: 561
	/* end block 2 */
	// End Line: 562
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerSwimDiveIn(struct __CharacterState *In /*$s1*/, int CurrentSection /*$s0*/, int Data /*$a2*/)
void StateHandlerSwimDiveIn(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 497, offset 0x8009ff50
	/* begin block 1 */
		// Start line: 498
		// Start offset: 0x8009FF50
		// Variables:
			struct __Event *Ptr; // $a0
			struct evPhysicsSwimData *SwimData; // $s3

		/* begin block 1.1 */
			// Start line: 581
			// Start offset: 0x800A01E8
			// Variables:
				struct evMonsterHitData *data; // $v1
		/* end block 1.1 */
		// End offset: 0x800A0208
		// End Line: 586
	/* end block 1 */
	// End offset: 0x800A02B8
	// End Line: 614

	/* begin block 2 */
		// Start line: 1048
	/* end block 2 */
	// End Line: 1049
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerSwim(struct __CharacterState *In /*$s1*/, int CurrentSection /*$s3*/, int Data /*stack 8*/)
void StateHandlerSwim(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 621, offset 0x800a02dc
	/* begin block 1 */
		// Start line: 622
		// Start offset: 0x800A02DC
		// Variables:
			struct __Event *Ptr; // $a0
			struct evPhysicsSwimData *SwimData; // $s2
			int tap; // $fp

		/* begin block 1.1 */
			// Start line: 804
			// Start offset: 0x800A0A7C
			// Variables:
				struct _Instance *Inst; // $s0
		/* end block 1.1 */
		// End offset: 0x800A0B28
		// End Line: 816

		/* begin block 1.2 */
			// Start line: 948
			// Start offset: 0x800A0DE0
			// Variables:
				struct evMonsterHitData *data; // $v1
		/* end block 1.2 */
		// End offset: 0x800A0DF4
		// End Line: 951
	/* end block 1 */
	// End offset: 0x800A0E28
	// End Line: 962

	/* begin block 2 */
		// Start line: 1424
	/* end block 2 */
	// End Line: 1425
				UNIMPLEMENTED();
}




