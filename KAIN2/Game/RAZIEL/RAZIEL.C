#include "Game/CORE.H"
#include "Game/PLAYER.H"
#include "RAZIEL.H"
#include "Game/GAMELOOP.H"
#include "Game/OBTABLE.H"
#include "Game/COLLIDE.H"
#include "Game/STATE.H"
#include "Game/G2/ANMG2ILF.H"
#include "RAZLIB.H"
#include "HEALTH.H"
#include "Game/DEBUG.H"
#include "CONTROL.H"
#include "Game/CAMERA.H"
#include "Game/STREAM.H"
#include "Game/SAVEINFO.H"
#include "Game/EVENT.H"
#include "RAZDBUG.H"
#include "Game/RAZCNTRL.H"
#include "Game/GLYPH.H"
#include "Game/SOUND.H"
#include "Game/PHYSICS.H"
#include "Game/FX.H"
#include "Game/G2/ANMCTRLR.H"

struct RazielData* PlayerData;
struct _G2AnimInterpInfo_Type razInterpInfo[3];
struct __EngagedInstance EngagedList[15];
struct __FitPoint constrictData[32];
int ControlFlag;
struct _G2SVector3_Type* ExtraRot;
int WaterStatus;
_Normal Norm;

void InitStates(struct _Instance* PlayerInstance)
{
	unsigned char i;
	struct _G2AnimSection_Type* animSection;

	if (Raziel.footPrint == 0)
	{
		Raziel.footPrint = (int)PlayerInstance->object;
	}

	PlayerInstance->InstanceState = &Raziel.State.CharacterInstance;
	Raziel.State.CharacterInstance = PlayerInstance;
	PlayerData = (struct RazielData*)PlayerInstance->data;

	G2EmulationSetTotalSections(&Raziel.State, 3);
	G2EmulationSetStartAndEndSegment(&Raziel.State, 0, 0, 13);
	G2EmulationSetStartAndEndSegment(&Raziel.State, 1, 14, 49);
	G2EmulationSetStartAndEndSegment(&Raziel.State, 2, 50, 65);
	
	for (i = 0; i < 3; i++)
	{
		animSection = &PlayerInstance->anim.section[0];
		animSection->callback = (unsigned long (*)(struct _G2Anim_Type*, int, enum _G2AnimCallbackMsg_Enum, long, long, struct _Instance*)) & RazielAnimCallback;
		animSection->callbackData = NULL;
	
		Raziel.State.SectionList[i].Event.Head = (int)&StateHandlerIdle;

		InitMessageQueue(&Raziel.State.SectionList[i].Event);
		InitMessageQueue(&Raziel.State.SectionList[i].Defer);
	}

	G2AnimSection_SetInterpInfo(&PlayerInstance->anim.section[0], &razInterpInfo[0]);
	G2AnimSection_SetInterpInfo(&PlayerInstance->anim.section[1], &razInterpInfo[1]);
	G2AnimSection_SetInterpInfo(&PlayerInstance->anim.section[2], &razInterpInfo[2]);

	Raziel.Mode = 1;

	gameTrackerX.debugFlags2 |= 0x800;

	InitHealthSystem();

	Raziel.Abilities = 0x1000000;

	debugRazielFlags1 = 0x1000000;

	Raziel.GlyphManaBalls = 0;
	Raziel.GlyphManaMax = 0;
	Raziel.Abilities = 0;
	Raziel.RotationSegment = 0;
	Raziel.extraRot.x = 0;
	Raziel.extraRot.y = 0;
	Raziel.extraRot.z = 0;

	PlayerInstance->rotation.x = 0;
	PlayerInstance->rotation.y = 0;
	PlayerInstance->rotation.z = 0;

	Raziel.Senses.EngagedList = &EngagedList[0];
	Raziel.constrictData = &constrictData[0];
	Raziel.dropOffHeight = 256;
	Raziel.Senses.EngagedMask = 0;
	Raziel.idleInstance = NULL;
	Raziel.soulReaver = NULL;
	Raziel.fallZVelocity = -32;

	G2EmulationSetAnimation(&Raziel.State, 0, 0, 0, 0);
	G2EmulationSetMode(&Raziel.State, 0, 2);

	G2EmulationSetAnimation(&Raziel.State, 1, 0, 0, 0);
	G2EmulationSetMode(&Raziel.State, 1, 2);

	G2EmulationSetAnimation(&Raziel.State, 2, 0, 0, 0);
	G2EmulationSetMode(&Raziel.State, 2, 2);

	ControlFlag = 0x519;

	PlayerInstance->maxXVel = 256;
	PlayerInstance->maxYVel = 256;
	PlayerInstance->maxZVel = 256;

	razSetCowlNoDraw(1);

	InitExternalForces(ExternalForces[0], 4);

	ResetPhysics(PlayerInstance, -16);

	ExtraRot = NULL;

	CAMERA_ChangeToOutOfWater(&theCamera, PlayerInstance);

	razAttachControllers();

	INSTANCE_Post(PlayerInstance, 0x100006, 0);

	PlayerInstance->checkMask = 0x803E002E;
	PlayerInstance->flags2 |= 0x400;

	G2EmulationInit();

	InitGlyphSystem(PlayerInstance);

	Raziel.slipSlope = 0xB50;
	Raziel.terminator = -1;

	gameTrackerX.raziel_collide_override = 0;
}


// autogenerated function stub: 
// void /*$ra*/ StateInitIdle(struct __CharacterState *In /*$s1*/, int CurrentSection /*$s2*/, int Ptr /*$a2*/)
void StateInitIdle(struct __CharacterState *In, int CurrentSection, int Ptr)
{ // line 459, offset 0x800a83b0
	/* begin block 1 */
		// Start line: 460
		// Start offset: 0x800A83B0
		// Variables:
			struct evControlInitIdleData *data; // $s0
			struct _Instance *linkWeapon; // $a0
	/* end block 1 */
	// End offset: 0x800A8650
	// End Line: 575

	/* begin block 2 */
		// Start line: 918
	/* end block 2 */
	// End Line: 919
			UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerIdle(struct __CharacterState *In /*$s1*/, int CurrentSection /*$s2*/, int Data /*$fp*/)
void StateHandlerIdle(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 624, offset 0x800a8668
	/* begin block 1 */
		// Start line: 625
		// Start offset: 0x800A8668
		// Variables:
			struct __Event *Ptr; // $s0
			int Anim; // $s5
			int blockForwardMotion; // $s7

		/* begin block 1.1 */
			// Start line: 777
			// Start offset: 0x800A8C7C
			// Variables:
				struct _Instance *heldInst; // $v0
		/* end block 1.1 */
		// End offset: 0x800A8CA4
		// End Line: 783

		/* begin block 1.2 */
			// Start line: 821
			// Start offset: 0x800A8D40
			// Variables:
				struct evPhysicsEdgeData *EdgeData; // $v0
		/* end block 1.2 */
		// End offset: 0x800A8D98
		// End Line: 828
	/* end block 1 */
	// End offset: 0x800A8EF8
	// End Line: 898

	/* begin block 2 */
		// Start line: 1248
	/* end block 2 */
	// End Line: 1249
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerLookAround(struct __CharacterState *In /*$s2*/, int CurrentSection /*$s1*/, int Data /*$a2*/)
void StateHandlerLookAround(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 902, offset 0x800a8f28
	/* begin block 1 */
		// Start line: 903
		// Start offset: 0x800A8F28
		// Variables:
			struct __Event *Ptr; // $s0

		/* begin block 1.1 */
			// Start line: 910
			// Start offset: 0x800A9018
			// Variables:
				struct _Instance *instance; // $s0
		/* end block 1.1 */
		// End offset: 0x800A905C
		// End Line: 918

		/* begin block 1.2 */
			// Start line: 925
			// Start offset: 0x800A9094
			// Variables:
				//struct _Instance *instance; // $s0
		/* end block 1.2 */
		// End offset: 0x800A9094
		// End Line: 926

		/* begin block 1.3 */
			// Start line: 938
			// Start offset: 0x800A90DC
			// Variables:
				int message; // stack offset -32
				int messageData; // stack offset -28
		/* end block 1.3 */
		// End offset: 0x800A9190
		// End Line: 956
	/* end block 1 */
	// End offset: 0x800A9254
	// End Line: 979

	/* begin block 2 */
		// Start line: 1925
	/* end block 2 */
	// End Line: 1926
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerCrouch(struct __CharacterState *In /*$s3*/, int CurrentSection /*$s4*/, int Data /*stack 8*/)
void StateHandlerCrouch(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 982, offset 0x800a9270
	/* begin block 1 */
		// Start line: 983
		// Start offset: 0x800A9270
		// Variables:
			struct __Event *Ptr; // $s1
			int Anim; // $s0
			struct _Instance *heldInst; // $s5
			int DropThisFrame; // stack offset -48

		/* begin block 1.1 */
			// Start line: 1097
			// Start offset: 0x800A96A0
			// Variables:
				struct evObjectData *data; // $s0
				int i; // $s2
		/* end block 1.1 */
		// End offset: 0x800A9788
		// End Line: 1124
	/* end block 1 */
	// End offset: 0x800A99B8
	// End Line: 1186

	/* begin block 2 */
		// Start line: 2095
	/* end block 2 */
	// End Line: 2096
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerDropAction(struct __CharacterState *In /*$s1*/, int CurrentSection /*$s0*/, int Data /*$s4*/)
void StateHandlerDropAction(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 1189, offset 0x800a99e8
	/* begin block 1 */
		// Start line: 1190
		// Start offset: 0x800A99E8
		// Variables:
			struct __Event *Ptr; // $v0
	/* end block 1 */
	// End offset: 0x800A9C48
	// End Line: 1260

	/* begin block 2 */
		// Start line: 2528
	/* end block 2 */
	// End Line: 2529
			UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerSoulSuck(struct __CharacterState *In /*$s1*/, int CurrentSection /*$s0*/, int Data /*$s5*/)
void StateHandlerSoulSuck(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 1267, offset 0x800a9c68
	/* begin block 1 */
		// Start line: 1268
		// Start offset: 0x800A9C68
		// Variables:
			struct __Event *Ptr; // $a0
			int Anim; // $s3

		/* begin block 1.1 */
			// Start line: 1375
			// Start offset: 0x800AA130
			// Variables:
				struct evPhysicsSwimData *SwimData; // $v0
		/* end block 1.1 */
		// End offset: 0x800AA160
		// End Line: 1382
	/* end block 1 */
	// End offset: 0x800AA17C
	// End Line: 1390

	/* begin block 2 */
		// Start line: 2693
	/* end block 2 */
	// End Line: 2694

	/* begin block 3 */
		// Start line: 2698
	/* end block 3 */
	// End Line: 2699
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerStartTurn(struct __CharacterState *In /*$s0*/, int CurrentSection /*$s1*/, int Data /*$s3*/)
void StateHandlerStartTurn(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 1396, offset 0x800aa1a0
	/* begin block 1 */
		// Start line: 1397
		// Start offset: 0x800AA1A0
		// Variables:
			struct __Event *Ptr; // $v0
	/* end block 1 */
	// End offset: 0x800AA384
	// End Line: 1457

	/* begin block 2 */
		// Start line: 2961
	/* end block 2 */
	// End Line: 2962
			UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateInitStartMove(struct __CharacterState *In /*$s1*/, int CurrentSection /*$s0*/, int Frame /*$s3*/)
void StateInitStartMove(struct __CharacterState *In, int CurrentSection, int Frame)
{ // line 1461, offset 0x800aa3a0
	/* begin block 1 */
		// Start line: 3096
	/* end block 1 */
	// End Line: 3097

	/* begin block 2 */
		// Start line: 3099
	/* end block 2 */
	// End Line: 3100
	UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerStartMove(struct __CharacterState *In /*$s1*/, int CurrentSection /*$s2*/, int Data /*$s4*/)
void StateHandlerStartMove(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 1550, offset 0x800aa44c
	/* begin block 1 */
		// Start line: 1551
		// Start offset: 0x800AA44C
		// Variables:
			struct __Event *Ptr; // $a1

		/* begin block 1.1 */
			// Start line: 1613
			// Start offset: 0x800AA728
			// Variables:
				int mode; // $a0
		/* end block 1.1 */
		// End offset: 0x800AA780
		// End Line: 1631
	/* end block 1 */
	// End offset: 0x800AAACC
	// End Line: 1722

	/* begin block 2 */
		// Start line: 3277
	/* end block 2 */
	// End Line: 3278
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateInitMove(struct __CharacterState *In /*$s2*/, int CurrentSection /*$s0*/, int Frames /*$a2*/)
void StateInitMove(struct __CharacterState *In, int CurrentSection, int Frames)
{ // line 1725, offset 0x800aaaec
	/* begin block 1 */
		// Start line: 3642
	/* end block 1 */
	// End Line: 3643

	/* begin block 2 */
		// Start line: 3647
	/* end block 2 */
	// End Line: 3648
	UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerMove(struct __CharacterState *In /*$s1*/, int CurrentSection /*$s2*/, int Data /*$s7*/)
void StateHandlerMove(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 1931, offset 0x800aad30
	/* begin block 1 */
		// Start line: 1932
		// Start offset: 0x800AAD30
		// Variables:
			struct __Event *Ptr; // $s0
			int Anim; // $s6

		/* begin block 1.1 */
			// Start line: 1997
			// Start offset: 0x800AB0E8
			// Variables:
				int data; // $a2
		/* end block 1.1 */
		// End offset: 0x800AB144
		// End Line: 2011
	/* end block 1 */
	// End offset: 0x800AB404
	// End Line: 2102

	/* begin block 2 */
		// Start line: 4090
	/* end block 2 */
	// End Line: 4091
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerStopMove(struct __CharacterState *In /*$s0*/, int CurrentSection /*$s1*/, int Data /*$s4*/)
void StateHandlerStopMove(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 2105, offset 0x800ab430
	/* begin block 1 */
		// Start line: 2106
		// Start offset: 0x800AB430
		// Variables:
			struct __Event *Ptr; // $a1
	/* end block 1 */
	// End offset: 0x800AB768
	// End Line: 2202

	/* begin block 2 */
		// Start line: 4448
	/* end block 2 */
	// End Line: 4449
			UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerCompression(struct __CharacterState *In /*$s0*/, int CurrentSection /*$s1*/, int Data /*$s4*/)
void StateHandlerCompression(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 2209, offset 0x800ab788
	/* begin block 1 */
		// Start line: 2210
		// Start offset: 0x800AB788
		// Variables:
			struct __Event *Ptr; // $v0
	/* end block 1 */
	// End offset: 0x800ABB2C
	// End Line: 2305

	/* begin block 2 */
		// Start line: 4667
	/* end block 2 */
	// End Line: 4668
			UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerJump(struct __CharacterState *In /*$s0*/, int CurrentSection /*$s2*/, int Data /*$s6*/)
void StateHandlerJump(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 2308, offset 0x800abb4c
	/* begin block 1 */
		// Start line: 2309
		// Start offset: 0x800ABB4C
		// Variables:
			struct __Event *Ptr; // $v0
	/* end block 1 */
	// End offset: 0x800ABF5C
	// End Line: 2408

	/* begin block 2 */
		// Start line: 4888
	/* end block 2 */
	// End Line: 4889
			UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerFall(struct __CharacterState *In /*$s2*/, int CurrentSection /*$s3*/, int Data /*stack 8*/)
void StateHandlerFall(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 2411, offset 0x800abf84
	/* begin block 1 */
		// Start line: 2412
		// Start offset: 0x800ABF84
		// Variables:
			struct __Event *Ptr; // $s0
			int Moving; // $s7
			int DeferFlag; // $s6
			struct evPhysicsSwimData *SwimData; // $s1

		/* begin block 1.1 */
			// Start line: 2430
			// Start offset: 0x800ABFC8
		/* end block 1.1 */
		// End offset: 0x800ABFFC
		// End Line: 2436
	/* end block 1 */
	// End offset: 0x800AC3C8
	// End Line: 2617

	/* begin block 2 */
		// Start line: 5132
	/* end block 2 */
	// End Line: 5133
			UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerSlide(struct __CharacterState *In /*$s0*/, int CurrentSection /*$s1*/, int Data /*$s3*/)
void StateHandlerSlide(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 2621, offset 0x800ac3f8
	/* begin block 1 */
		// Start line: 2622
		// Start offset: 0x800AC3F8
		// Variables:
			struct __Event *Ptr; // $v0
	/* end block 1 */
	// End offset: 0x800AC5BC
	// End Line: 2678

	/* begin block 2 */
		// Start line: 5560
	/* end block 2 */
	// End Line: 5561
			UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerBlock(struct __CharacterState *In /*$s2*/, int CurrentSection /*$s4*/, int Data /*$s7*/)
void StateHandlerBlock(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 2688, offset 0x800ac5d8
	/* begin block 1 */
		// Start line: 2689
		// Start offset: 0x800AC5D8
		// Variables:
			struct __Event *Ptr; // $a0
			int Anim; // $s3

		/* begin block 1.1 */
			// Start line: 2727
			// Start offset: 0x800AC7E0
			// Variables:
				struct _Rotation rot; // stack offset -56
		/* end block 1.1 */
		// End offset: 0x800AC7E0
		// End Line: 2728

		/* begin block 1.2 */
			// Start line: 2743
			// Start offset: 0x800AC868
		/* end block 1.2 */
		// End offset: 0x800AC868
		// End Line: 2744

		/* begin block 1.3 */
			// Start line: 2757
			// Start offset: 0x800AC90C
			// Variables:
				struct evPhysicsEdgeData *EdgeData; // $s1

			/* begin block 1.3.1 */
				// Start line: 2762
				// Start offset: 0x800AC94C
				// Variables:
					//SVECTOR startVec; // stack offset -56
					///SVECTOR endVec; // stack offset -48
			/* end block 1.3.1 */
			// End offset: 0x800AC9A4
			// End Line: 2770
		/* end block 1.3 */
		// End offset: 0x800AC9F8
		// End Line: 2779
	/* end block 1 */
	// End offset: 0x800ACA18
	// End Line: 2792

	/* begin block 2 */
		// Start line: 5703
	/* end block 2 */
	// End Line: 5704
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerDeCompression(struct __CharacterState *In /*$s0*/, int CurrentSection /*$s2*/, int Data /*$s5*/)
void StateHandlerDeCompression(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 2795, offset 0x800aca44
	/* begin block 1 */
		// Start line: 2796
		// Start offset: 0x800ACA44
		// Variables:
			struct __Event *Ptr; // $s1

		/* begin block 1.1 */
			// Start line: 2805
			// Start offset: 0x800ACB1C
		/* end block 1.1 */
		// End offset: 0x800ACC94
		// End Line: 2844
	/* end block 1 */
	// End offset: 0x800ACD90
	// End Line: 2884

	/* begin block 2 */
		// Start line: 5926
	/* end block 2 */
	// End Line: 5927
			UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerGlide(struct __CharacterState *In /*$s1*/, int CurrentSection /*$s3*/, int Data /*$fp*/)
void StateHandlerGlide(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 2889, offset 0x800acdb4
	/* begin block 1 */
		// Start line: 2890
		// Start offset: 0x800ACDB4
		// Variables:
			struct __Event *Ptr; // $s0
			int Frame; // $s7
			int Anim; // $s5
			int moving; // $s6

		/* begin block 1.1 */
			// Start line: 3009
			// Start offset: 0x800AD32C
			// Variables:
				struct evObjectDraftData *draft; // $a2
		/* end block 1.1 */
		// End offset: 0x800AD384
		// End Line: 3016

		/* begin block 1.2 */
			// Start line: 3021
			// Start offset: 0x800AD3AC
			// Variables:
				struct evPhysicsSwimData *SwimData; // $v0
		/* end block 1.2 */
		// End offset: 0x800AD43C
		// End Line: 3034
	/* end block 1 */
	// End offset: 0x800AD4F0
	// End Line: 3087

	/* begin block 2 */
		// Start line: 6140
	/* end block 2 */
	// End Line: 6141
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerHang(struct __CharacterState *In /*$s1*/, int CurrentSection /*$s2*/, int Data /*$fp*/)
void StateHandlerHang(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 3090, offset 0x800ad520
	/* begin block 1 */
		// Start line: 3091
		// Start offset: 0x800AD520
		// Variables:
			struct __Event *Ptr; // $a0
			int Anim; // $s7

		/* begin block 1.1 */
			// Start line: 3103
			// Start offset: 0x800AD6E0
			// Variables:
				struct evControlInitHangData *data; // $s0
		/* end block 1.1 */
		// End offset: 0x800AD7F4
		// End Line: 3133
	/* end block 1 */
	// End offset: 0x800ADA94
	// End Line: 3244

	/* begin block 2 */
		// Start line: 6555
	/* end block 2 */
	// End Line: 6556
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerPushObject(struct __CharacterState *In /*$s1*/, int CurrentSection /*$s2*/, int Data /*$s5*/)
void StateHandlerPushObject(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 3247, offset 0x800adac4
	/* begin block 1 */
		// Start line: 3248
		// Start offset: 0x800ADAC4
		// Variables:
			struct __Event *Ptr; // $v0

		/* begin block 1.1 */
			// Start line: 3300
			// Start offset: 0x800ADD58
			// Variables:
				struct evObjectData *data; // $s0
		/* end block 1.1 */
		// End offset: 0x800ADDB0
		// End Line: 3309
	/* end block 1 */
	// End offset: 0x800ADDCC
	// End Line: 3319

	/* begin block 2 */
		// Start line: 6879
	/* end block 2 */
	// End Line: 6880

	/* begin block 3 */
		// Start line: 6882
	/* end block 3 */
	// End Line: 6883
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerBreakOff(struct __CharacterState *In /*$s3*/, int CurrentSection /*$s4*/, int Data /*$s7*/)
void StateHandlerBreakOff(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 3322, offset 0x800addf0
	/* begin block 1 */
		// Start line: 3323
		// Start offset: 0x800ADDF0
		// Variables:
			struct __Event *Ptr; // $v0

		/* begin block 1.1 */
			// Start line: 3334
			// Start offset: 0x800ADEF4
			// Variables:
				struct PhysObInteractProperties *interactProp; // $s0
				struct _Instance *Inst; // $s1
				int anim; // $a2
		/* end block 1.1 */
		// End offset: 0x800AE07C
		// End Line: 3383

		/* begin block 1.2 */
			// Start line: 3397
			// Start offset: 0x800AE0D4
			// Variables:
				//struct PhysObInteractProperties *interactProp; // $v0
				int action; // $s1
				int condition; // $v0
				//struct _Instance *Inst; // $s0
		/* end block 1.2 */
		// End offset: 0x800AE17C
		// End Line: 3428
	/* end block 1 */
	// End offset: 0x800AE1C8
	// End Line: 3443

	/* begin block 2 */
		// Start line: 7040
	/* end block 2 */
	// End Line: 7041
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerPullSwitch(struct __CharacterState *In /*$s4*/, int CurrentSection /*$s5*/, int Data /*stack 8*/)
void StateHandlerPullSwitch(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 3446, offset 0x800ae1f4
	/* begin block 1 */
		// Start line: 3447
		// Start offset: 0x800AE1F4
		// Variables:
			struct __Event *Ptr; // $s2
			int switchDone; // stack offset -56
			int hitPosted; // stack offset -52

		/* begin block 1.1 */
			// Start line: 3459
			// Start offset: 0x800AE32C
			// Variables:
				struct PhysObSwitchProperties *switchData; // $fp

			/* begin block 1.1.1 */
				// Start line: 3465
				// Start offset: 0x800AE35C
				// Variables:
					int switchStatus; // $s1
					int switchSuccess; // $s3
					struct _Instance *inst; // $s2
					struct PhysObSwitchProperties *switchProperties; // $s0
					int extraZ; // $s6

				/* begin block 1.1.1.1 */
					// Start line: 3478
					// Start offset: 0x800AE3B0
				/* end block 1.1.1.1 */
				// End offset: 0x800AE408
				// End Line: 3490
			/* end block 1.1.1 */
			// End offset: 0x800AE534
			// End Line: 3539
		/* end block 1.1 */
		// End offset: 0x800AE534
		// End Line: 3539

		/* begin block 1.2 */
			// Start line: 3545
			// Start offset: 0x800AE544
			// Variables:
				//int switchStatus; // $v1
				//struct _Instance *inst; // $s0
				//struct PhysObSwitchProperties *switchProperties; // $s0
				int switchClass; // $s1
		/* end block 1.2 */
		// End offset: 0x800AE6C8
		// End Line: 3586

		/* begin block 1.3 */
			// Start line: 3598
			// Start offset: 0x800AE740
			// Variables:
				struct evMonsterHitData *data; // $s0
		/* end block 1.3 */
		// End offset: 0x800AE7A8
		// End Line: 3609
	/* end block 1 */
	// End offset: 0x800AE7D4
	// End Line: 3629

	/* begin block 2 */
		// Start line: 7314
	/* end block 2 */
	// End Line: 7315
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerDragObject(struct __CharacterState *In /*$s2*/, int CurrentSection /*$s4*/, int Data /*$fp*/)
void StateHandlerDragObject(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 3632, offset 0x800ae804
	/* begin block 1 */
		// Start line: 3633
		// Start offset: 0x800AE804
		// Variables:
			struct __Event *Ptr; // $s1
			struct _Instance *instance; // $s3
			int anim; // $s0
			int hitPosted; // $s7

		/* begin block 1.1 */
			// Start line: 3676
			// Start offset: 0x800AEA10
			// Variables:
				struct evPhysicsSlideData *slideData; // stack offset -48

			/* begin block 1.1.1 */
				// Start line: 3681
				// Start offset: 0x800AEA2C
				// Variables:
					struct evObjectData *data; // $s0
			/* end block 1.1.1 */
			// End offset: 0x800AED18
			// End Line: 3738
		/* end block 1.1 */
		// End offset: 0x800AED18
		// End Line: 3739

		/* begin block 1.2 */
			// Start line: 3795
			// Start offset: 0x800AEEA0
			// Variables:
				//struct evMonsterHitData *data; // $v0
		/* end block 1.2 */
		// End offset: 0x800AEEA0
		// End Line: 3796
	/* end block 1 */
	// End offset: 0x800AEEFC
	// End Line: 3810

	/* begin block 2 */
		// Start line: 7694
	/* end block 2 */
	// End Line: 7695

	/* begin block 3 */
		// Start line: 7700
	/* end block 3 */
	// End Line: 7701
					UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerPickupObject(struct __CharacterState *In /*$s1*/, int CurrentSection /*$s0*/, int Data /*$s4*/)
void StateHandlerPickupObject(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 3813, offset 0x800aef2c
	/* begin block 1 */
		// Start line: 3814
		// Start offset: 0x800AEF2C
		// Variables:
			struct __Event *Ptr; // $v0

		/* begin block 1.1 */
			// Start line: 3822
			// Start offset: 0x800AEFE4
			// Variables:
				long colorArray[1]; // stack offset -32
		/* end block 1.1 */
		// End offset: 0x800AEFE4
		// End Line: 3822
	/* end block 1 */
	// End offset: 0x800AF128
	// End Line: 3870

	/* begin block 2 */
		// Start line: 8073
	/* end block 2 */
	// End Line: 8074
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerAutoFace(struct __CharacterState *In /*$s0*/, int CurrentSection /*$s1*/, int Data /*stack 8*/)
void StateHandlerAutoFace(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 3870, offset 0x800af148
	/* begin block 1 */
		// Start line: 3871
		// Start offset: 0x800AF148
		// Variables:
			struct __Event *Ptr; // $a0
			int Frames; // $s3
			int Anim; // $s2
	/* end block 1 */
	// End offset: 0x800AF858
	// End Line: 4077

	/* begin block 2 */
		// Start line: 8216
	/* end block 2 */
	// End Line: 8217
			UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ StateHandlerGlyphs(struct __CharacterState *In /*$s1*/, int CurrentSection /*$s2*/, int Data /*$s6*/)
void StateHandlerGlyphs(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 4083, offset 0x800af888
	/* begin block 1 */
		// Start line: 4084
		// Start offset: 0x800AF888
		// Variables:
			struct __Event *Ptr; // $s0
			int hitPosted; // $s5

		/* begin block 1.1 */
			// Start line: 4285
			// Start offset: 0x800B0018
			// Variables:
				struct evActionPlayHostAnimationData *ptr; // $v0
		/* end block 1.1 */
		// End offset: 0x800B005C
		// End Line: 4292

		/* begin block 1.2 */
			// Start line: 4295
			// Start offset: 0x800B005C
			// Variables:
				struct evMonsterHitData *data; // $v1
		/* end block 1.2 */
		// End offset: 0x800B00B0
		// End Line: 4304
	/* end block 1 */
	// End offset: 0x800B00E0
	// End Line: 4333

	/* begin block 2 */
		// Start line: 8645
	/* end block 2 */
	// End Line: 8646
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ DefaultStateHandler(struct __CharacterState *In /*$s2*/, int CurrentSection /*$s1*/, int Data /*$a2*/)
void DefaultStateHandler(struct __CharacterState *In, int CurrentSection, int Data)
{ // line 4391, offset 0x800b0114
	/* begin block 1 */
		// Start line: 4392
		// Start offset: 0x800B0114
		// Variables:
			struct __Event *Ptr; // $s0

		/* begin block 1.1 */
			// Start line: 4411
			// Start offset: 0x800B03B4
			// Variables:
				int message; // stack offset -32
				int messageData; // stack offset -28

			/* begin block 1.1.1 */
				// Start line: 4431
				// Start offset: 0x800B0478
				// Variables:
					int i; // $s1
			/* end block 1.1.1 */
			// End offset: 0x800B04B8
			// End Line: 4437
		/* end block 1.1 */
		// End offset: 0x800B04B8
		// End Line: 4440

		/* begin block 1.2 */
			// Start line: 4602
			// Start offset: 0x800B0634
			// Variables:
				struct evPhysicsGravityData *ptr; // $v1
				short zRot; // $s0

			/* begin block 1.2.1 */
				// Start line: 4608
				// Start offset: 0x800B0640
				// Variables:
					_Position pos1; // stack offset -48
					_Position pos2; // stack offset -40
					int diff; // $v0
			/* end block 1.2.1 */
			// End offset: 0x800B0720
			// End Line: 4628
		/* end block 1.2 */
		// End offset: 0x800B0720
		// End Line: 4628

		/* begin block 1.3 */
			// Start line: 4661
			// Start offset: 0x800B07B4
			// Variables:
				struct evFXHitData *BloodData; // $a0
				struct _SVector Accel; // stack offset -48
		/* end block 1.3 */
		// End offset: 0x800B07B4
		// End Line: 4662

		/* begin block 1.4 */
			// Start line: 4710
			// Start offset: 0x800B0960
			// Variables:
				struct evPhysicsEdgeData *data; // $s0
		/* end block 1.4 */
		// End offset: 0x800B099C
		// End Line: 4716
	/* end block 1 */
	// End offset: 0x800B0A90
	// End Line: 4753

	/* begin block 2 */
		// Start line: 9276
	/* end block 2 */
	// End Line: 9277
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// long /*$ra*/ RazielAnimCallback(struct _G2Anim_Type *anim /*$s3*/, int sectionID /*$s1*/, enum _G2AnimCallbackMsg_Enum message /*$s4*/, long messageDataA /*$s5*/, long messageDataB /*stack 16*/, void *data /*stack 20*/)
long RazielAnimCallback(struct _G2Anim_Type *anim, int sectionID, enum _G2AnimCallbackMsg_Enum message, long messageDataA, long messageDataB, void *data)
{ // line 4757, offset 0x800b0aac
	/* begin block 1 */
		// Start line: 4758
		// Start offset: 0x800B0AAC
		// Variables:
			struct __State *pSection; // $a0
			struct _G2AnimSection_Type *animSection; // $a2

		/* begin block 1.1 */
			// Start line: 4776
			// Start offset: 0x800B0B70
			// Variables:
				struct evAnimationControllerDoneData *ControllerData; // $v1
		/* end block 1.1 */
		// End offset: 0x800B0BF8
		// End Line: 4792

		/* begin block 1.2 */
			// Start line: 4806
			// Start offset: 0x800B0C40
			// Variables:
				//struct __AlarmData *data; // $s0
				struct _Instance *inst; // $a0

			/* begin block 1.2.1 */
				// Start line: 4877
				// Start offset: 0x800B0E40
				// Variables:
					int test; // $a0

				/* begin block 1.2.1.1 */
					// Start line: 4897
					// Start offset: 0x800B0EA4
					// Variables:
						struct _SoundRamp *soundRamp; // $t0
				/* end block 1.2.1.1 */
				// End offset: 0x800B0FC4
				// End Line: 4912
			/* end block 1.2.1 */
			// End offset: 0x800B0FC4
			// End Line: 4912
		/* end block 1.2 */
		// End offset: 0x800B0FDC
		// End Line: 4921

		/* begin block 1.3 */
			// Start line: 4925
			// Start offset: 0x800B0FE4

			/* begin block 1.3.1 */
				// Start line: 4930
				// Start offset: 0x800B1008
				// Variables:
					struct _Instance *heldInstance; // $s0
			/* end block 1.3.1 */
			// End offset: 0x800B1048
			// End Line: 4936
		/* end block 1.3 */
		// End offset: 0x800B105C
		// End Line: 4945
	/* end block 1 */
	// End offset: 0x800B1088
	// End Line: 4960

	/* begin block 2 */
		// Start line: 10027
	/* end block 2 */
	// End Line: 10028
					UNIMPLEMENTED();
	return 0;
}


// autogenerated function stub: 
// long /*$ra*/ RazielAnimCallbackDuringPause(struct _G2Anim_Type *anim /*$a0*/, int sectionID /*$a1*/, enum _G2AnimCallbackMsg_Enum message /*$s0*/, long messageDataA /*$s1*/, long messageDataB /*stack 16*/, void *data /*stack 20*/)
long RazielAnimCallbackDuringPause(struct _G2Anim_Type *anim, int sectionID, enum _G2AnimCallbackMsg_Enum message, long messageDataA, long messageDataB, void *data)
{ // line 4961, offset 0x800b10b0
	/* begin block 1 */
		// Start line: 4962
		// Start offset: 0x800B10B0

		/* begin block 1.1 */
			// Start line: 4971
			// Start offset: 0x800B10D0
			// Variables:
				struct evAnimationControllerDoneData *ControllerData; // $v1
		/* end block 1.1 */
		// End offset: 0x800B114C
		// End Line: 4987
	/* end block 1 */
	// End offset: 0x800B114C
	// End Line: 4992

	/* begin block 2 */
		// Start line: 10454
	/* end block 2 */
	// End Line: 10455
				UNIMPLEMENTED();
	return 0;
}

unsigned long RazielQuery(struct _Instance *instance, unsigned long Query)
{
	struct _Normal* Ptr;
	unsigned long ability;
	struct PlayerSaveData data;
	struct evShadowSegmentData* shadowData;
	
	switch (Query)
	{
	case 1:
	{
		return 1;
		break;
	}
	case 9:
	{
		return WaterStatus;
		break;
	}
	case 6:
	{
		return SetPositionData(instance->position.x, instance->position.y, instance->position.z);

		break;
	}
	case 7:
	{
		if (Raziel.steeringMode == 4)
		{
			return SetPositionData(instance->rotation.x, instance->rotation.y, Raziel.steeringLockRotation);
		}
		else
		{
			return SetPositionData(instance->rotation.x, instance->rotation.y, instance->rotation.z);
		}

		break;
	}
	case 8:
	{
		if (ExtraRot != NULL)
		{
			return (unsigned long)ExtraRot;
		}
		else
		{
			return NULL;
		}
		break;
	}
	case 10:
	{
		return Raziel.Mode;

		break;
	}
	case 11:
	{
		return Raziel.CurrentPlane;
	
		break;
	}
	case 12:
	{
		if (instance->oldMatrix != NULL)
		{
			return (unsigned long)&instance->oldMatrix[15];
		}
		else
		{
			return NULL;
		}
		break;
	}
	case 13:
	{
		if (instance->oldMatrix != NULL)
		{
			return (unsigned long)&instance->oldMatrix[0];
		}
		else
		{
			return NULL;
		}

		break;
	}
	case 16:
	{
		Ptr = (struct _Normal*)CIRC_Alloc(sizeof(_Normal));

		if (Raziel.Mode == 0x40000)
		{
			Ptr->x = instance->matrix[1].m[0][2];
			Ptr->y = instance->matrix[1].m[1][2];
			Ptr->z = instance->matrix[1].m[2][2];
		}
		else
		{
			Ptr->x = -instance->matrix[0].m[0][1];
			Ptr->y = -instance->matrix[0].m[1][1];
			Ptr->z = -instance->matrix[0].m[2][1];
		}

		return (unsigned long)Ptr;

		break;
	}
	case 19:
	{
		ability = Raziel.Abilities & 0x1FC0000;

		if ((STREAM_GetLevelWithID(instance->currentStreamUnitID)->unitFlags & 0x800) || RAZIEL_OkToShift() == 0)
		{
			ability &= 0xFEFFFFFF;
		}

		if ((Raziel.Mode & 0x40000) || Raziel.CurrentPlane == 2)
		{
			ability &= 0x1000000;
		}

		return ability;

		break;
	}
	case 24:
	{
		int ret = SetControlSaveDataData(sizeof(struct PlayerSaveData), &data);

		data.abilities = Raziel.Abilities;
		data.currentPlane = Raziel.CurrentPlane;
		data.healthScale = Raziel.HealthScale;
		data.healthBalls = Raziel.HealthBalls;
		data.manaBalls = Raziel.GlyphManaBalls;
		data.manaMax = Raziel.GlyphManaMax;
		data.playerEventHistory = Raziel.playerEventHistory;

		return ret;

		break;
	}
	case 31:
	{

		return Raziel.HealthBalls;

		break;
	}
	case 32:
	{
		return Raziel.GlyphManaBalls;

		break;
	}
	case 34:
	{
		if ((Raziel.Senses.EngagedMask & 0x40))
		{
			return ((unsigned long*)Raziel.Senses.EngagedList)[12];
		}
		else
		{
			return 0;
		}

		break;
	}
	case 38:
	{
		shadowData = (struct evShadowSegmentData*)SetShadowSegmentData(2);
		shadowData->shadowSegments[0] = 12;
		shadowData->shadowSegments[1] = 8;

		break;
	}
	case 39:
	{
		return Raziel.Senses.EngagedMask;

		break;
	}
	case 41:
	{
		return Raziel.playerEvent;

		break;
	}
	case 42:
	{
		return Raziel.playerEventHistory;

		break;
	}
	case 43:
	{
		return (Raziel.HitPoints ^ GetMaxHealth()) < 1;

		break;
	}
	case 44:
	{
		return (unsigned long)razGetHeldItem();

		break;
	}
	case 45:
	{
		return Raziel.GlyphManaMax;

		break;
	}
	case 46:
	{
		return Raziel.invincibleTimer;

		break;
	}
	}
	
	return 0;
}


// autogenerated function stub: 
// void /*$ra*/ RazielPost(struct _Instance *instance /*$s0*/, unsigned long Message /*$s2*/, unsigned long Data /*$s3*/)
void RazielPost(struct _Instance *instance, unsigned long Message, unsigned long Data)
{ // line 5216, offset 0x800b1528
	/* begin block 1 */
		// Start line: 5217
		// Start offset: 0x800B1528
		// Variables:
			int i; // $s1

		/* begin block 1.1 */
			// Start line: 5224
			// Start offset: 0x800B1764
		/* end block 1.1 */
		// End offset: 0x800B179C
		// End Line: 5242

		/* begin block 1.2 */
			// Start line: 5288
			// Start offset: 0x800B180C
			// Variables:
				struct PlayerSaveData *data; // $s0
		/* end block 1.2 */
		// End offset: 0x800B18CC
		// End Line: 5333

		/* begin block 1.3 */
			// Start line: 5359
			// Start offset: 0x800B197C
		/* end block 1.3 */
		// End offset: 0x800B1990
		// End Line: 5365

		/* begin block 1.4 */
			// Start line: 5385
			// Start offset: 0x800B19EC
		/* end block 1.4 */
		// End offset: 0x800B1A54
		// End Line: 5401

		/* begin block 1.5 */
			// Start line: 5404
			// Start offset: 0x800B1A5C
			// Variables:
				struct _G2AnimSection_Type *animSection; // $v0
		/* end block 1.5 */
		// End offset: 0x800B1A84
		// End Line: 5409

		/* begin block 1.6 */
			// Start line: 5413
			// Start offset: 0x800B1A9C
			// Variables:
				//struct _G2AnimSection_Type *animSection; // $v0
		/* end block 1.6 */
		// End offset: 0x800B1AC4
		// End Line: 5418

		/* begin block 1.7 */
			// Start line: 5475
			// Start offset: 0x800B1C20
		/* end block 1.7 */
		// End offset: 0x800B1C5C
		// End Line: 5485

		/* begin block 1.8 */
			// Start line: 5487
			// Start offset: 0x800B1C5C
		/* end block 1.8 */
		// End offset: 0x800B1CA0
		// End Line: 5504

		/* begin block 1.9 */
			// Start line: 5514
			// Start offset: 0x800B1CE8
			// Variables:
				//int i; // $s2
				//struct _Instance *heldWeapon; // $s0
		/* end block 1.9 */
		// End offset: 0x800B1D80
		// End Line: 5541

		/* begin block 1.10 */
			// Start line: 5548
			// Start offset: 0x800B1D94
			// Variables:
				struct _Instance *heldWeapon; // $v1
		/* end block 1.10 */
		// End offset: 0x800B1E5C
		// End Line: 5576
	/* end block 1 */
	// End offset: 0x800B1EDC
	// End Line: 5593

	/* begin block 2 */
		// Start line: 10927
	/* end block 2 */
	// End Line: 10928
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// int /*$ra*/ SetStates(struct _Instance *instance /*$s4*/, struct GameTracker *GT /*$s7*/, long *controlCommand /*$s6*/, int AnalogLength /*$a3*/)
int SetStates(struct _Instance *instance, struct GameTracker *GT, long *controlCommand, int AnalogLength)
{ // line 5597, offset 0x800b1ef8
	/* begin block 1 */
		// Start line: 5598
		// Start offset: 0x800B1EF8
		// Variables:
			int i; // $s1
			int Event; // $s2
			int Data1; // $s3
			static unsigned long LastTime; // offset 0x0
			struct __Event *Ptr; // $v0

		/* begin block 1.1 */
			// Start line: 5708
			// Start offset: 0x800B209C
			// Variables:
				struct __Event *message; // $v0
		/* end block 1.1 */
		// End offset: 0x800B2188
		// End Line: 5746

		/* begin block 1.2 */
			// Start line: 5871
			// Start offset: 0x800B249C
		/* end block 1.2 */
		// End offset: 0x800B24B4
		// End Line: 5873

		/* begin block 1.3 */
			// Start line: 5879
			// Start offset: 0x800B24F8
		/* end block 1.3 */
		// End offset: 0x800B2558
		// End Line: 5888
	/* end block 1 */
	// End offset: 0x800B2558
	// End Line: 5890

	/* begin block 2 */
		// Start line: 11735
	/* end block 2 */
	// End Line: 11736
				UNIMPLEMENTED();
	return 0;
}


// autogenerated function stub: 
// void /*$ra*/ ProcessConstrict()
void ProcessConstrict()
{ // line 5900, offset 0x800b2588
	/* begin block 1 */
		// Start line: 5901
		// Start offset: 0x800B2588

		/* begin block 1.1 */
			// Start line: 5942
			// Start offset: 0x800B268C
			// Variables:
				int i; // $s0

			/* begin block 1.1.1 */
				// Start line: 5990
				// Start offset: 0x800B2754
				// Variables:
					int thisIndex; // $v1
					int nextIndex; // $v0
			/* end block 1.1.1 */
			// End offset: 0x800B27B8
			// End Line: 6011
		/* end block 1.1 */
		// End offset: 0x800B284C
		// End Line: 6034
	/* end block 1 */
	// End offset: 0x800B284C
	// End Line: 6065

	/* begin block 2 */
		// Start line: 12443
	/* end block 2 */
	// End Line: 12444

	/* begin block 3 */
		// Start line: 12446
	/* end block 3 */
	// End Line: 12447
					UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ RelocateConstrict(struct _SVector *offset /*$a3*/)
void RelocateConstrict(struct _SVector *offset)
{ // line 6068, offset 0x800b285c
	/* begin block 1 */
		// Start line: 6069
		// Start offset: 0x800B285C
		// Variables:
			int i; // $a2
	/* end block 1 */
	// End offset: 0x800B29B4
	// End Line: 6097

	/* begin block 2 */
		// Start line: 12827
	/* end block 2 */
	// End Line: 12828

	/* begin block 3 */
		// Start line: 12832
	/* end block 3 */
	// End Line: 12833
			UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ ProcessEffects(struct _Instance *instance /*$s0*/)
void ProcessEffects(struct _Instance *instance)
{ // line 6097, offset 0x800b29bc
	/* begin block 1 */
		// Start line: 6098
		// Start offset: 0x800B29BC
		// Variables:
			struct _Instance *heldInst; // $s2

		/* begin block 1.1 */
			// Start line: 6149
			// Start offset: 0x800B2AE0
			// Variables:
				int step; // $v1
		/* end block 1.1 */
		// End offset: 0x800B2BB8
		// End Line: 6188
	/* end block 1 */
	// End offset: 0x800B2BB8
	// End Line: 6190

	/* begin block 2 */
		// Start line: 12903
	/* end block 2 */
	// End Line: 12904
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ ProcessHints()
void ProcessHints()
{ // line 6194, offset 0x800b2bd0
	/* begin block 1 */
		// Start line: 6195
		// Start offset: 0x800B2BD0
		// Variables:
			long hint; // $s0
	/* end block 1 */
	// End offset: 0x800B2CF8
	// End Line: 6256

	/* begin block 2 */
		// Start line: 13103
	/* end block 2 */
	// End Line: 13104
			UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ ProcessInteractiveMusic(struct _Instance *instance /*$a0*/)
void ProcessInteractiveMusic(struct _Instance *instance)
{ // line 6261, offset 0x800b2d08
	/* begin block 1 */
		// Start line: 6262
		// Start offset: 0x800B2D08
		// Variables:
			struct Level *level; // $s1

		/* begin block 1.1 */
			// Start line: 6279
			// Start offset: 0x800B2DB4
		/* end block 1.1 */
		// End offset: 0x800B2DD8
		// End Line: 6286
	/* end block 1 */
	// End offset: 0x800B2EA4
	// End Line: 6335

	/* begin block 2 */
		// Start line: 13237
	/* end block 2 */
	// End Line: 13238
			UNIMPLEMENTED();
}

void ProcessTimers(struct _Instance* instance)
{
	//a2 = Raziel.timeAccumulator
	//s3 = instance

	if (Raziel.timeAccumulator > 0)
	{
		Raziel.timeAccumulator -= gameTrackerX.timeMult;

		if (Raziel.timeAccumulator <= 0)
		{
			INSTANCE_Post(instance, 0x100015, -Raziel.timeAccumulator);
		}
	}
	//loc_800B2C1C
	if (Raziel.soundTimerNext > 0)
	{
		Raziel.soundTimerNext -= gameTrackerX.timeMult;

		if (Raziel.soundTimerNext <= 0)
		{
			//v0 = 
			Raziel.soundTimerNext = 0;

			switch (Raziel.soundTimerData)
			{
			case 1:
			{
				razSetupSoundRamp(instance, (struct _SoundRamp*)&Raziel.soundHandle, 19, 1000, 1000, 120, 120, 4096, 3500);
				razSetupSoundRamp(instance, (struct _SoundRamp*)&Raziel.soundHandle2, 20, 1030, 1030, 120, 120, 4096, 3500);

				Raziel.soundTimerNext = 122880;

				//v0 = Raziel.effectsFlags
				//v1 = 2
				break;
			}
			case 2:
			{
				//s2 = 0x3C000
				//a0 = instance
				razSetupSoundRamp(instance, (struct _SoundRamp*)&Raziel.soundHandle, 19, 1000, 1000, 120, 0, 245760, 3500);
				razSetupSoundRamp(instance, (struct _SoundRamp*)&Raziel.soundHandle2, 20, 1030, 1030, 120, 0, 245760, 3500);

				//j loc_800B3078

				break;
			case 3:
			{
				if (Raziel.soundHandle != 0)
				{
					SndEndLoop(Raziel.soundHandle);
				}
				break;
			}
			}
			}
			//loc_800B30A8
		}
		//loc_800B30A8
		UNIMPLEMENTED();
#if 0

		loc_800B2D74 :
		move    $a0, $s3
			addiu   $a1, $gp, -0x46C
			li      $a2, 0xD
			move    $a3, $zero
			li      $v0, 0x64  # 'd'
			sw      $v0, 0x28 + var_14($sp)
			sw      $v0, 0x28 + var_10($sp)
			li      $v0, 0x1000
			sw      $v0, 0x28 + var_C($sp)
			li      $v0, 0xDAC
			sw      $zero, -0x46C($gp)
			sw      $zero, 0x28 + var_18($sp)
			jal     sub_800A7D40
			sw      $v0, 0x28 + var_8($sp)
			li      $v0, 0xA000
			sw      $v0, -0x43C($gp)
			li      $v0, 4
			sw      $v0, -0x438($gp)
			j       loc_800B30A8
			nop

			loc_800B2DC4 : # jumptable 800B2C70 case 4
			lw      $a0, -0x454($gp)
			nop
			beqz    $a0, loc_800B2DDC
			nop
			jal     sub_80040870
			nop

			loc_800B2DDC :
		move    $a0, $s3
			addiu   $a1, $gp, -0x454
			li      $a2, 0xD
			li      $a3, 0x32  # '2'
			move    $v0, $a3
			sw      $v0, 0x28 + var_18($sp)
			li      $v0, 0x5F  # '_'
			sw      $v0, 0x28 + var_14($sp)
			sw      $v0, 0x28 + var_10($sp)
			li      $v0, 0x1000
			sw      $v0, 0x28 + var_C($sp)
			li      $v0, 0xDAC
			sw      $zero, -0x454($gp)
			jal     sub_800A7D40
			sw      $v0, 0x28 + var_8($sp)
			li      $v0, 0x7000
			sw      $v0, -0x43C($gp)
			lw      $v0, -0x4B4($gp)
			li      $v1, 5

			loc_800B2E28:
		sw      $v1, -0x438($gp)
			ori     $v0, 8
			sw      $v0, -0x4B4($gp)
			j       loc_800B30A8
			nop

			loc_800B2E3C : # jumptable 800B2C70 case 5
			lw      $a0, -0x46C($gp)
			nop
			beqz    $a0, loc_800B2E54
			nop
			jal     sub_80040870
			nop

			loc_800B2E54 :
		move    $a0, $s3
			addiu   $a1, $gp, -0x46C
			li      $a2, 0xD
			li      $a3, 0xFFFFFFEC
			move    $v0, $a3
			sw      $v0, 0x28 + var_18($sp)
			li      $v0, 0x50  # 'P'
			sw      $v0, 0x28 + var_14($sp)
			sw      $v0, 0x28 + var_10($sp)
			li      $v0, 0x1000
			sw      $v0, 0x28 + var_C($sp)
			li      $v0, 0xDAC
			sw      $zero, -0x46C($gp)
			jal     sub_800A7D40
			sw      $v0, 0x28 + var_8($sp)
			li      $v0, 0x8000
			sw      $v0, -0x43C($gp)
			li      $v0, 6
			sw      $v0, -0x438($gp)
			j       loc_800B30A8
			nop

			loc_800B2EA8 : # jumptable 800B2C70 case 6
			lw      $a0, -0x454($gp)
			nop
			beqz    $a0, loc_800B2EC0
			nop
			jal     sub_80040870
			nop

			loc_800B2EC0 :
		move    $a0, $s3
			addiu   $a1, $gp, -0x454
			li      $a2, 0xD
			li      $a3, 0x64  # 'd'
			move    $v0, $a3
			sw      $v0, 0x28 + var_18($sp)
			li      $v0, 0x4B  # 'K'
			sw      $v0, 0x28 + var_14($sp)
			sw      $v0, 0x28 + var_10($sp)
			li      $v0, 0x1000
			sw      $v0, 0x28 + var_C($sp)
			li      $v0, 0xDAC
			sw      $zero, -0x454($gp)
			jal     sub_800A7D40
			sw      $v0, 0x28 + var_8($sp)
			li      $v0, 0xA000
			sw      $v0, -0x43C($gp)
			li      $v0, 7
			sw      $v0, -0x438($gp)
			j       loc_800B30A8
			nop

			loc_800B2F14 : # jumptable 800B2C70 case 7
			lw      $a0, -0x46C($gp)
			nop
			beqz    $a0, loc_800B2F2C
			nop
			jal     sub_80040870
			nop

			loc_800B2F2C :
		move    $a0, $s3
			addiu   $a1, $gp, -0x46C
			li      $a2, 0xD
			li      $a3, 0xFFFFFF9C
			move    $v0, $a3
			sw      $v0, 0x28 + var_18($sp)
			li      $v0, 0x41  # 'A'
			sw      $v0, 0x28 + var_14($sp)
			sw      $v0, 0x28 + var_10($sp)
			li      $v0, 0x1000
			sw      $v0, 0x28 + var_C($sp)
			li      $v0, 0xDAC
			sw      $zero, -0x46C($gp)
			jal     sub_800A7D40
			sw      $v0, 0x28 + var_8($sp)
			li      $v0, 0x5000
			sw      $v0, -0x43C($gp)
			li      $v0, 8
			sw      $v0, -0x438($gp)
			j       loc_800B30A8
			nop

			loc_800B2F80 : # jumptable 800B2C70 case 8
			lw      $a0, -0x454($gp)
			nop
			beqz    $a0, loc_800B2F98
			nop
			jal     sub_80040870
			nop

			loc_800B2F98 :
		move    $a0, $s3
			addiu   $a1, $gp, -0x454
			li      $a2, 0xD
			li      $a3, 0x1E
			move    $v0, $a3
			sw      $v0, 0x28 + var_18($sp)
			li      $v0, 0x3C  # '<'
			sw      $v0, 0x28 + var_14($sp)
			sw      $v0, 0x28 + var_10($sp)
			li      $v0, 0x1000
			sw      $v0, 0x28 + var_C($sp)
			li      $v0, 0xDAC
			sw      $zero, -0x454($gp)
			jal     sub_800A7D40
			sw      $v0, 0x28 + var_8($sp)
			li      $v0, 0xA000
			sw      $v0, -0x43C($gp)
			li      $v0, 9
			sw      $v0, -0x438($gp)
			j       loc_800B30A8
			nop

			loc_800B2FEC : # jumptable 800B2C70 case 9
			lw      $a0, -0x46C($gp)
			nop
			beqz    $a0, loc_800B3004
			nop
			jal     sub_80040870
			nop

			loc_800B3004 :
		lw      $a0, -0x454($gp)
			sw      $zero, -0x46C($gp)
			beqz    $a0, loc_800B301C
			nop
			jal     sub_80040870
			nop

			loc_800B301C :
		lw      $v0, -0x4B4($gp)
			li      $v1, 0xFFFFFFFB
			sw      $zero, -0x454($gp)
			and $v0, $v1
			li      $v1, 0xFFFFFFF7
			and $v0, $v1
			sw      $v0, -0x4B4($gp)
			j       loc_800B30A8
			nop

			loc_800B3040 : # jumptable 800B2C70 case 10
			li      $v1, 0x3C000
			move    $a0, $s3
			addiu   $a1, $gp, -0x46C
			li      $a2, 0x33  # '3'
			li      $a3, 0xFFFFFF38
			move    $v0, $a3
			sw      $v0, 0x28 + var_18($sp)
			li      $v0, 0x78  # 'x'
			sw      $v0, 0x28 + var_14($sp)
			li      $v0, 0xDAC
			sw      $zero, 0x28 + var_10($sp)
			sw      $v1, 0x28 + var_C($sp)
			sw      $v0, 0x28 + var_8($sp)

			loc_800B3078:
		jal     sub_800A7D40
			nop
			sw      $zero, -0x43C($gp)
			sw      $zero, -0x438($gp)
			j       loc_800B30A8
			nop

			def_800B2C70 : # jumptable 800B2C70 default case
			lw      $a0, -0x46C($gp)
			nop
			beqz    $a0, loc_800B30A8
			nop
			jal     sub_80040870
			nop

			loc_800B30A8 :
		lw      $ra, 0x28 + var_s10($sp)
			lw      $s3, 0x28 + var_sC($sp)
			lw      $s2, 0x28 + var_s8($sp)
			lw      $s1, 0x28 + var_s4($sp)
			lw      $s0, 0x28 + var_s0($sp)
			jr      $ra
			addiu   $sp, 0x40
#endif
	}
}

void SetTimer(int ticks)
{
	Raziel.timeAccumulator = ticks >> 12;
}


// autogenerated function stub: 
// void /*$ra*/ ProcessSpecialAbilities(struct _Instance *instance /*$s1*/)
void ProcessSpecialAbilities(struct _Instance *instance)
{ // line 6452, offset 0x800b33bc
	/* begin block 1 */
		// Start line: 6453
		// Start offset: 0x800B33BC
		// Variables:
			unsigned long reaver; // $s0

		/* begin block 1.1 */
			// Start line: 6460
			// Start offset: 0x800B33EC
			// Variables:
				unsigned long temp; // $a0
		/* end block 1.1 */
		// End offset: 0x800B340C
		// End Line: 6469

		/* begin block 1.2 */
			// Start line: 6493
			// Start offset: 0x800B3450
			// Variables:
				struct Object *soulReaverOb; // $a1

			/* begin block 1.2.1 */
				// Start line: 6497
				// Start offset: 0x800B3460
			/* end block 1.2.1 */
			// End offset: 0x800B3460
			// End Line: 6497
		/* end block 1.2 */
		// End offset: 0x800B3460
		// End Line: 6497

		/* begin block 1.3 */
			// Start line: 6518
			// Start offset: 0x800B34B8
			// Variables:
				struct Level *level; // $a1
		/* end block 1.3 */
		// End offset: 0x800B351C
		// End Line: 6529
	/* end block 1 */
	// End offset: 0x800B3560
	// End Line: 6548

	/* begin block 2 */
		// Start line: 13631
	/* end block 2 */
	// End Line: 13632

	/* begin block 3 */
		// Start line: 13635
	/* end block 3 */
	// End Line: 13636
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// int /*$ra*/ GetControllerMessages(long *controlCommand /*$s0*/)
int GetControllerMessages(long *controlCommand)
{ // line 6582, offset 0x800b3574
	/* begin block 1 */
		// Start line: 6583
		// Start offset: 0x800B3574
	/* end block 1 */
	// End offset: 0x800B3768
	// End Line: 6637

	/* begin block 2 */
		// Start line: 13895
	/* end block 2 */
	// End Line: 13896
	UNIMPLEMENTED();
	return 0;
}

void RazielAdditionalCollide(struct _Instance* instance, struct GameTracker* gameTracker)
{
	int rc;
	int Mode;
	short Height;
	struct evPhysicsEdgeData* Data;
	struct evPhysicsSwimData* swimData;
	struct _Instance* Inst;

	rc = 0;

	if ((ControlFlag & 0x8))
	{
		rc = 1;
	}

	if ((ControlFlag & 0x2000))
	{
		PhysicsCheckDropOff(instance, SetPhysicsDropOffData(0, -96, Raziel.dropOffHeight, Raziel.slipSlope, 256), 2);
	}

	if ((rc & 0x1))
	{
		if (gameTrackerX.cheatMode == 1)
		{
			Height = 64;
		}
		else
		{
			Height = 128;
		}

		if (Height < (instance->position.z - instance->oldPos.z))
		{
			Height = instance->position.z - instance->oldPos.z;
		}

		if ((PhysicsCheckGravity(instance, SetPhysicsGravityData(((short*)instance->matrix)[30] - (instance->matrix)->t[2], Height, 0, 0, 0, Raziel.slipSlope), 7) & 0x1))
		{
			Raziel.Senses.Flags |= 0x4;
		}
		else
		{
			Raziel.Senses.Flags &= 0xFFFFFFFB;
		}

		FX_UpdateInstanceWaterSplit(instance);
	}
	else
	{
		instance->oldTFace = NULL;
		instance->tface = NULL;
		instance->tfaceLevel = NULL;
		instance->waterFace = NULL;
		instance->waterFaceTerrain = NULL;
	}

	if ((ControlFlag & 0x400))
	{
		if (Raziel.Senses.heldClass != 3)
		{
			Data = (struct evPhysicsEdgeData*)SetPhysicsEdgeData(400, -256, 144, 0, -196, 498, &Raziel.Senses.ForwardNormal, &Raziel.Senses.AboveNormal, &Raziel.Senses.Delta);

			Mode = PhysicsCheckEdgeGrabbing(instance, gameTracker, (int)Data, 3);

			if ((Mode & 0x6) == 6)
			{
				SetPhysics(instance, 0, 0, 0, -3);

				Raziel.Senses.Flags |= 0x2;

				if (ExtraRot != NULL)
				{
					G2Anim_DisableController(&instance->anim, 1, 14);

					instance->rotation.z += ExtraRot->z;

					ExtraRot = NULL;
				}

				if (Data != NULL)
				{
					PhysicsDefaultEdgeGrabResponse(instance, Data, 0);
				}
			}
			else
			{
				Raziel.Senses.Flags &= 0xFFFFFFFD;
			}

			if ((Mode & 0x2))
			{
				Raziel.Senses.Flags |= 0x1;
			}
			else
			{
				Raziel.Senses.Flags &= 0xFFFFFFFE;
			}
		}
	}

	if ((ControlFlag & 0x100))
	{
		Inst = razGetHeldWeapon();

		swimData = (struct evPhysicsSwimData*)SetPhysicsSwimData((Raziel.Mode >> 18) & 0x1, &Raziel.iVelocity, 256, 416, 112);

		WaterStatus = PhysicsCheckSwim(instance, (int)swimData, 3);

		if ((swimData->rc & 0x10) && Inst != NULL)
		{
			if (INSTANCE_Query(Inst, 4) == 3)
			{
				G2Anim_SetSpeedAdjustment(&instance->anim, 2048);
			}
		}

		if ((swimData->rc & 0x20) && Inst != NULL)
		{
			if (INSTANCE_Query(Inst, 4) == 3)
			{
				G2Anim_SetSpeedAdjustment(&instance->anim, 4096);
			}
		}
	}
	else
	{
		WaterStatus = 32;

		FX_UpdateInstanceWaterSplit(instance);
	}

	if ((ControlFlag & 0x8000))
	{
		Mode = PhysicsCheckBlockers(instance, gameTracker, SetPhysicsEdgeData(256, -256, 80, 0, -104, 0, &Raziel.Senses.ForwardNormal, &Raziel.Senses.AboveNormal, &Raziel.Senses.Delta), 3);

		if ((Mode & 0x4))
		{
			Raziel.Senses.Flags |= 0x2;
		}
		else
		{
			Raziel.Senses.Flags &= 0xFFFFFFFD;
		}

		if ((Mode & 0x2))
		{
			Raziel.Senses.Flags |= 0x1;
		}
		else
		{
			Raziel.Senses.Flags &= 0xFFFFFFFE;
		}
	}

	if ((ControlFlag & 0x80000))
	{
		PhysicsFollowWall(instance, gameTracker, SetPhysicsWallCrawlData(0, -448, 160, -186), 7);
	}

	if ((ControlFlag & 0x4000000))
	{
		if (Raziel.attachedPlatform != NULL)
		{
			if (INSTANCE_Query(Raziel.attachedPlatform, 2) & 0x8)
			{
				PhysicsCheckLinkedMove(instance, SetPhysicsLinkedMoveData(Raziel.attachedPlatform, 2, NULL, NULL), 5);
			}
			else
			{
				PhysicsCheckLinkedMove(instance, SetPhysicsLinkedMoveData(Raziel.attachedPlatform, 0, NULL, NULL), 5);
			}
		}
	}
}


// autogenerated function stub: 
// int /*$ra*/ GetEngageEvent(struct _Instance *instance /*$a0*/)
int GetEngageEvent(struct _Instance *instance)
{ // line 6975, offset 0x800b3c78
	/* begin block 1 */
		// Start line: 6976
		// Start offset: 0x800B3C78
		// Variables:
			int Ability; // $v1
	/* end block 1 */
	// End offset: 0x800B3CC0
	// End Line: 6994

	/* begin block 2 */
		// Start line: 14764
	/* end block 2 */
	// End Line: 14765
			UNIMPLEMENTED();
	return 0;
}


// autogenerated function stub: 
// int /*$ra*/ SetupReaction(struct _Instance *player /*$s2*/, struct _Instance *instance /*$a0*/)
int SetupReaction(struct _Instance *player, struct _Instance *instance)
{ // line 6997, offset 0x800b3cd0
	/* begin block 1 */
		// Start line: 6998
		// Start offset: 0x800B3CD0
		// Variables:
			int FaceAngle; // $s3

		/* begin block 1.1 */
			// Start line: 7014
			// Start offset: 0x800B3D14
		/* end block 1.1 */
		// End offset: 0x800B3D9C
		// End Line: 7023
	/* end block 1 */
	// End offset: 0x800B3D9C
	// End Line: 7024

	/* begin block 2 */
		// Start line: 14808
	/* end block 2 */
	// End Line: 14809
			UNIMPLEMENTED();
	return 0;
}

int CheckHolding(struct _Instance* instance)
{
	return instance->LinkChild != NULL;
}

void DisableWristCollision(struct _Instance *instance, int Side)
{
	if ((Side & 0x1))
	{
		COLLIDE_SegmentCollisionOff(instance, 0x1F);
	}

	if ((Side & 0x2))
	{
		COLLIDE_SegmentCollisionOff(instance, 0x29);
	}
}


// autogenerated function stub: 
// void /*$ra*/ EnableWristCollision(struct _Instance *instance /*$s1*/, int Side /*$s0*/)
void EnableWristCollision(struct _Instance *instance, int Side)
{ // line 7065, offset 0x800b3e1c
	/* begin block 1 */
		// Start line: 14947
	/* end block 1 */
	// End Line: 14948
	UNIMPLEMENTED();
}


// autogenerated function stub: 
// int /*$ra*/ GetCollisionType(struct _Instance *instance /*$s1*/)
int GetCollisionType(struct _Instance *instance)
{ // line 7202, offset 0x800b3e6c
	/* begin block 1 */
		// Start line: 7203
		// Start offset: 0x800B3E6C
		// Variables:
			struct _CollideInfo *collideInfo; // $s0
			struct _HSphere *S; // $v0

		/* begin block 1.1 */
			// Start line: 7217
			// Start offset: 0x800B3EB0
			// Variables:
				struct _Instance *inst; // $v1
		/* end block 1.1 */
		// End offset: 0x800B3EB0
		// End Line: 7217
	/* end block 1 */
	// End offset: 0x800B4000
	// End Line: 7273

	/* begin block 2 */
		// Start line: 15221
	/* end block 2 */
	// End Line: 15222
				UNIMPLEMENTED();
	return 0;
}

void InitGlyphSystem(struct _Instance* instance)
{
	struct Object* GlyphOb;
	struct _Instance* iGlyph;
	
	GlyphOb = (struct Object*)objectAccess[20].object;
	
	if (GlyphOb != NULL)
	{
		iGlyph = INSTANCE_BirthObject(instance, GlyphOb, 0);

		if (iGlyph != NULL)
		{
			Raziel.GlyphSystem = iGlyph;
		}
	}
}

void mdRazielProcess(struct _Instance *playerInstance, struct GameTracker *gameTracker, long *controlCommand)
{
	ProcessTimers(playerInstance);

	razClearPlayerEvent();

	ProcessRazControl(controlCommand);

	SetStates(playerInstance, gameTracker, controlCommand, -1);

	ProcessHints();

	CAMERA_Control(&theCamera, playerInstance);

	playerInstance->offset.x = 0;
	playerInstance->offset.y = 0;
	playerInstance->offset.z = 0;
	
	Raziel.collisionEdgeOffset.x = 0;
	Raziel.collisionEdgeOffset.y = 0;
	Raziel.collisionEdgeOffset.z = 0;

	Raziel.Senses.HitMonster = NULL;

	if (Raziel.GlyphSystem != NULL)
	{
		GlyphProcess(Raziel.GlyphSystem, gameTracker);
	}

	Raziel.Abilities = debugRazielFlags1;
	
	debugRazielFlags1 |= debugRazielFlags2;
}

void RazielProcess(struct _Instance *playerInstance, struct GameTracker *gameTracker)
{
#if defined(PSX_VERSION)
	
	mdRazielProcess(gameTracker->playerInstance, gameTracker, &gameTrackerX.controlCommand[0][0]);

	DebugProcess(playerInstance , &Raziel);

	Norm.z = 0;
	Norm.y = 0;
	Norm.x = 0;

#elif defined(PC_VERSION)
	struct _Instance* v2; // edi
	int* v3; // esi
	int CurrentHint; // esi

	v2 = gameTracker->playerInstance;
	v3 = gameTracker->controlCommand[0];
	ProcessTimers(v2);
	if ((ControlFlag & 0x100000) != 0)
		dword_B089C8 &= 0x2000u;
	else
		dword_B089C8 = 0;
	ProcessRazControl(v3);
	SetStates(v2, gameTracker, v3);
	CurrentHint = HINT_GetCurrentHint();
	if ((dword_B089CC & 0x2000) == 0)
	{
		if ((dword_B089C8 & 0x2000) != 0)
		{
			if (CurrentHint == -1)
				HINT_StartHint(12);
			if (CurrentHint == 12 && (int(__cdecl*)(int, int, int))stru_B0841C.SectionList[0].Process == StateHandlerGlyphs)
			{
				HINT_KillSpecificHint(12);
				HINT_StartHint(40);
			}
			if (CurrentHint == 40 && (int(__cdecl*)(int, int, int))stru_B0841C.SectionList[0].Process != StateHandlerGlyphs)
			{
				HINT_KillSpecificHint(40);
				HINT_StartHint(12);
			}
			goto LABEL_19;
		}
		if (CurrentHint != 12)
			goto LABEL_19;
	LABEL_15:
		HINT_KillSpecificHint(12);
		goto LABEL_19;
	}
	if (CurrentHint == 12)
		goto LABEL_15;
	if (CurrentHint == 40)
		HINT_KillSpecificHint(40);
LABEL_19:
	if ((dword_B089CC & 0x10000) == 0)
	{
		if ((dword_B089C8 & 0x10000) != 0)
		{
			if (CurrentHint == -1)
				HINT_StartHint(32);
		}
		else if (CurrentHint == 32)
		{
			HINT_KillSpecificHint(32);
		}
	}
	CAMERA_Control(&theCamera, v2);
	v2->offset.x = 0;
	v2->offset.y = 0;
	v2->offset.z = 0;
	word_B089BC = 0;
	word_B089BE = 0;
	word_B089C0 = 0;
	dword_B087E0 = 0;
	if (instance)
		GlyphProcess(instance, gameTracker);
	dword_B08820 = debugRazielFlags1;
	word_B08414 = 0;
	word_B08412 = 0;
	word_B08410 = 0;
	debugRazielFlags1 |= debugRazielFlags2;
#endif
}

void RazielInit(struct _Instance *instance, struct GameTracker *gameTracker)
{ 
	instance->data = instance->object->data;
	gameTracker->playerInstance = instance;
	instance->intro = NULL;
	instance->zVel = 0;
	instance->zAccl = 0;
	instance->yVel = 0;
	instance->yAccl = 0;
	instance->work0 = 0;
	instance->work1 = 0;
	instance->offset.x = 0;
	instance->offset.y = 0;
	instance->offset.z = 0;
	instance->currentMainState = 0;
	instance->currentSubState = 0;
	instance->matrix = NULL;
	instance->maxZVel = 0;
	instance->work3 = 0;
	instance->lightGroup = 0;
	instance->flags |= 0x400;
	instance->flags &= 0xFFFFFEFF;
	instance->flags2 |= 0x84;

	OBTABLE_GetInstanceCollideFunc(instance);
	OBTABLE_GetInstanceProcessFunc(instance);
	DisableWristCollision(instance, 2);
	DisableWristCollision(instance, 1);
	InitStates(instance);
}


// autogenerated function stub: 
// void /*$ra*/ RazielCollide(struct _Instance *instance /*$s0*/, struct GameTracker *gameTracker /*$a1*/)
void RazielCollide(struct _Instance *instance, struct GameTracker *gameTracker)
{ // line 7491, offset 0x800b420c
	/* begin block 1 */
		// Start line: 7492
		// Start offset: 0x800B420C
		// Variables:
			struct _CollideInfo *collideInfo; // $s2

		/* begin block 1.1 */
			// Start line: 7521
			// Start offset: 0x800B42B8
			// Variables:
				SVECTOR*offset; // $s1
		/* end block 1.1 */
		// End offset: 0x800B434C
		// End Line: 7537

		/* begin block 1.2 */
			// Start line: 7555
			// Start offset: 0x800B43EC
			// Variables:
				///SVECTOR*offset; // $a1
		/* end block 1.2 */
		// End offset: 0x800B4454
		// End Line: 7571
	/* end block 1 */
	// End offset: 0x800B4454
	// End Line: 7573

	/* begin block 2 */
		// Start line: 15836
	/* end block 2 */
	// End Line: 15837
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ RAZIEL_TurnHead(struct _Instance *instance /*$s2*/, short *rotx /*$s0*/, short *rotz /*$s1*/, struct GameTracker *gameTracker /*$a3*/)
void RAZIEL_TurnHead(struct _Instance *instance, short *rotx, short *rotz, struct GameTracker *gameTracker)
{ // line 7573, offset 0x800b4470
	/* begin block 1 */
		// Start line: 7574
		// Start offset: 0x800B4470

		/* begin block 1.1 */
			// Start line: 7578
			// Start offset: 0x800B44B4
			// Variables:
				struct _Rotation rot; // stack offset -40
		/* end block 1.1 */
		// End offset: 0x800B4598
		// End Line: 7600

		/* begin block 1.2 */
			// Start line: 7603
			// Start offset: 0x800B45BC
			// Variables:
				//struct evActionLookAroundData data; // stack offset -32
		/* end block 1.2 */
		// End offset: 0x800B467C
		// End Line: 7621
	/* end block 1 */
	// End offset: 0x800B467C
	// End Line: 7623

	/* begin block 2 */
		// Start line: 16013
	/* end block 2 */
	// End Line: 16014
				UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ RAZIEL_SetLookAround(struct _Instance *instance /*$s1*/)
void RAZIEL_SetLookAround(struct _Instance *instance)
{ // line 7623, offset 0x800b4694
	/* begin block 1 */
		// Start line: 16133
	/* end block 1 */
	// End Line: 16134
	UNIMPLEMENTED();
}


// autogenerated function stub: 
// void /*$ra*/ RAZIEL_ResetLookAround(struct _Instance *instance /*$s1*/)
void RAZIEL_ResetLookAround(struct _Instance *instance)
{ // line 7652, offset 0x800b470c
	/* begin block 1 */
		// Start line: 16208
	/* end block 1 */
	// End Line: 16209
	UNIMPLEMENTED();
}


// autogenerated function stub: 
// long /*$ra*/ RAZIEL_OkToLookAround(struct _Instance *playerInstance /*$a0*/)
long RAZIEL_OkToLookAround(struct _Instance *playerInstance)
{ // line 7675, offset 0x800b4788
	/* begin block 1 */
		// Start line: 16266
	/* end block 1 */
	// End Line: 16267

	/* begin block 2 */
		// Start line: 16280
	/* end block 2 */
	// End Line: 16281
	UNIMPLEMENTED();
	return 0;
}


// autogenerated function stub: 
// void /*$ra*/ TrailWaterFX(struct _Instance *instance /*$s2*/, int Segment /*$s0*/, int Bubbles /*$s7*/, int Type /*$s6*/)
void TrailWaterFX(struct _Instance *instance, int Segment, int Bubbles, int Type)
{ // line 7714, offset 0x800b4810
	/* begin block 1 */
		// Start line: 7715
		// Start offset: 0x800B4810
		// Variables:
			struct _SVector Pos; // stack offset -88
			struct _SVector Vel; // stack offset -80
			struct _SVector Accl; // stack offset -72
			int i; // $s4
			int j; // $s1
			struct Level *level; // $s5
			//struct __BubbleParams BP; // stack offset -64
	/* end block 1 */
	// End offset: 0x800B4B64
	// End Line: 7761

	/* begin block 2 */
		// Start line: 16358
	/* end block 2 */
	// End Line: 16359
			UNIMPLEMENTED();
}




