#include "CORE.H"

// autogenerated function stub: 
// void /*$ra*/ SBSP_IntroduceInstances(struct _Terrain *terrain /*$a0*/, int unitID /*$a1*/)
void SBSP_IntroduceInstances(struct _Terrain *terrain, int unitID)
{ // line 527, offset 0x8003d928
#if defined(PC_VERSION)
	struct Intro* introList; // esi
	int numIntros; // edi
	int flags; // eax

	introList = terrain->introList;
	if (terrain->numIntros)
	{
		numIntros = terrain->numIntros;
		do
		{
			flags = introList->flags;
			if ((flags & 8) == 0 && (flags & 0x4000) == 0)
				INSTANCE_IntroduceInstance(introList, unitID);
			++introList;
			--numIntros;
		} while (numIntros);
	}
#else
	UNIMPLEMENTED();
#endif
}

void SBSP_IntroduceInstancesAndLights(struct _Terrain* terrain, struct _CameraCore_Type* cameraCore, struct LightInfo* lightInfo, int unitID)
{
#if defined(PSX_VERSION)
	SBSP_IntroduceInstances(terrain, unitID);
#elif defined(PC_VERSION)
	struct Intro* introList; // esi
	int numIntros; // edi
	int flags; // eax

	introList = terrain->introList;
	if (terrain->numIntros)
	{
		numIntros = terrain->numIntros;
		do
		{
			flags = introList->flags;
			if ((flags & 8) == 0 && (flags & 0x4000) == 0)
				INSTANCE_IntroduceInstance(introList, unitID);
			++introList;
			--numIntros;
		} while (numIntros);
	}
#endif
}




