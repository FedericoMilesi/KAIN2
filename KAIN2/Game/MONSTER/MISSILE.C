#include "Game/CORE.H"
#include "MISSILE.H"
#include "Game/PHYSOBS.H"

void MISSILE_Process(struct _Instance* instance, struct GameTracker* gameTracker)//Matching - 99.32%
{
	ProcessPhysicalObject(instance, gameTracker);

	if (instance->LinkParent == NULL && (unsigned int)instance->work2 < MON_GetTime(instance))
	{
		INSTANCE_KillInstance(instance);
	}
}

void MISSILE_Collide(struct _Instance* instance, struct GameTracker* gameTracker)
{
	CollidePhysicalObject(instance, gameTracker);

	if (instance->LinkParent == NULL)
	{
		INSTANCE_KillInstance(instance);
	}
}


// autogenerated function stub: 
// struct _Instance * /*$ra*/ MISSILE_Find(struct _Instance *instance /*$a0*/, struct _MonsterMissile *missiledef /*$a1*/)
struct _Instance * MISSILE_Find(struct _Instance *instance, struct _MonsterMissile *missiledef)
{ // line 73, offset 0x8007d850
	/* begin block 1 */
		// Start line: 75
		// Start offset: 0x8007D850
		// Variables:
			struct Object *ob; // $v1
			struct _Instance *missile; // $a2
	/* end block 1 */
	// End offset: 0x8007D8BC
	// End Line: 87

	/* begin block 2 */
		// Start line: 146
	/* end block 2 */
	// End Line: 147

	/* begin block 3 */
		// Start line: 147
	/* end block 3 */
	// End Line: 148

	/* begin block 4 */
		// Start line: 154
	/* end block 4 */
	// End Line: 155
			UNIMPLEMENTED();
	return null;
}


// autogenerated function stub: 
// struct _Instance * /*$ra*/ MISSILE_Birth(struct _Instance *instance /*$s1*/, struct _MonsterMissile *missiledef /*$s0*/)
struct _Instance * MISSILE_Birth(struct _Instance *instance, struct _MonsterMissile *missiledef)
{ // line 89, offset 0x8007d8cc
	/* begin block 1 */
		// Start line: 90
		// Start offset: 0x8007D8CC
		// Variables:
			struct _Instance *missile; // $a1

		/* begin block 1.1 */
			// Start line: 122
			// Start offset: 0x8007D954
			// Variables:
				MATRIX *matrix; // $v0
		/* end block 1.1 */
		// End offset: 0x8007D988
		// End Line: 126
	/* end block 1 */
	// End offset: 0x8007D98C
	// End Line: 159

	/* begin block 2 */
		// Start line: 181
	/* end block 2 */
	// End Line: 182
				UNIMPLEMENTED();
	return null;
}


// autogenerated function stub: 
// struct _Instance * /*$ra*/ MISSILE_Fire(struct _Instance *instance /*$a0*/, struct _MonsterMissile *missiledef /*$s1*/, void *target /*$s2*/, int type /*$s3*/)
struct _Instance * MISSILE_Fire(struct _Instance *instance, struct _MonsterMissile *missiledef, void *target, int type)
{ // line 161, offset 0x8007d9a0
	/* begin block 1 */
		// Start line: 162
		// Start offset: 0x8007D9A0
		// Variables:
			struct _Instance *miss; // $s0

		/* begin block 1.1 */
			// Start line: 169
			// Start offset: 0x8007D9D4
			// Variables:
				int spin; // $a3
				struct _SVector rotVel; // stack offset -32
		/* end block 1.1 */
		// End offset: 0x8007DA40
		// End Line: 190
	/* end block 1 */
	// End offset: 0x8007DA40
	// End Line: 192

	/* begin block 2 */
		// Start line: 325
	/* end block 2 */
	// End Line: 326
				UNIMPLEMENTED();
	return null;
}

struct _Instance* MISSILE_FireAtInstance(struct _Instance* instance, struct _MonsterMissile* missiledef, struct _Instance* target)  // Matching - 100%
{
	return MISSILE_Fire(instance, missiledef, target, 1);
}




