#include "CORE.H"
#include "MENUUTIL.H"
#include "GAMELOOP.H"
#include "MENU.H"
#include "FONT.H"

enum menu_ctrl_t menu_get_ctrl(void *gt)
{
	enum menu_ctrl_t ctrl;
	
	if ((((GameTracker*)gt)->controlCommand[0][1] & 0x1))
	{
		ctrl = menu_ctrl_up;
	}
	else if ((((GameTracker*)gt)->controlCommand[0][1] & 0x2))
	{
		ctrl = menu_ctrl_down;
	}
	else if ((((GameTracker*)gt)->controlCommand[0][1] & 0x4))
	{
		ctrl = menu_ctrl_left;
	}
	else if ((((GameTracker*)gt)->controlCommand[0][1] & 0x8))
	{
		ctrl = menu_ctrl_right;
	}
	else if (!(((GameTracker*)gt)->controlCommand[0][1] & 0x80) || (((GameTracker*)gt)->controlCommand[0][0] & 0x300))
	{
		if ((((GameTracker*)gt)->controlCommand[0][1] & 0x10))
		{
			ctrl = menu_ctrl_cancel;
		}
		else 
		{
			if ((((GameTracker*)gt)->controlCommand[0][1] & 0x4000))
			{
				ctrl = menu_ctrl_start;

			}
			else
			{
				ctrl = menu_ctrl_none;
			}
		}
	}
	else
	{
		ctrl = menu_ctrl_engage;
	}
	
	return ctrl;
}

void menu_print(int xpos, int ypos, char *text, int color)
{ 
	FONT_SetCursor(xpos, ypos);

	if (color != 0)
	{
		FONT_SetColorIndex(color);
	}

	FONT_Print2(text);

	if (color != 0)
	{
		FONT_SetColorIndex(0);
	}
}

int menu_text_width(char *text)
{
	return FONT_GetStringWidth(text);
}

// autogenerated function stub: 
// void /*$ra*/ menu_sound(enum menu_sound_t sound /*$a0*/)
void menu_sound(enum menu_sound_t sound)
{ // line 92, offset 0x800b8904
	/* begin block 1 */
		// Start line: 93
		// Start offset: 0x800B8904
		// Variables:
			struct menu_sound_entry_t *entry; // $a0
	/* end block 1 */
	// End offset: 0x800B8904
	// End Line: 93

	/* begin block 2 */
		// Start line: 204
	/* end block 2 */
	// End Line: 205

}




