#include "CORE.H"
#include "OBTABLE.H"
#include "RAZIEL/RAZIEL.H"
#include "REAVER.H"
#include "GLYPH.H"
#include "PHYSOBS.H"
#include "MONSTER/MONAPI.H"
#include "FX.H"
#include "SCRIPT2.H"
#include "GENERIC.H"

#ifdef PC_VERSION
#pragma warning(disable: 4101)
#endif

struct ObjectAccess objectAccess[28] =
{
	{
		"hud_____",
		NULL
	},
	{
		"flame___",
		NULL
	},
	{
		"fonts___",
		NULL
	},
	{
		"waterfx_",
		NULL
	},
	{
		"dbgfont_",
		NULL
	},
	{
		"cammode_",
		NULL
	},
	{
		"introfx_",
		NULL
	},
	{
		"mapicon_",
		NULL
	},
	{
		"paths___",
		NULL
	},
	{
		"soul____",
		NULL
	},
	{
		"particle",
		NULL
	},
	{
		"knife___",
		NULL
	},
	{
		"stick___",
		NULL
	},
	{
		"xbow____",
		NULL
	},
	{
		"fthrow__",
		NULL
	},
	{
		"moregg__",
		NULL
	},
	{
		"wcegg___",
		NULL
	},
	{
		"eggsac__",
		NULL
	},
	{
		"mound___",
		NULL
	},
	{
		"force___",
		NULL
	},
	{
		"glphicon",
		NULL
	},
	{
		"healthu_",
		NULL
	},
	{
		"sreavr__",
		NULL
	},
	{
		"wrpface_",
		NULL
	},
	{
		"healths_",
		NULL
	},
	{
		"eaggot__",
		NULL
	},
	{
		"eaggots_",
		NULL
	},
	{
		NULL,
		NULL
	}
};

/*struct ObjectFunc objectFunc[8] =
{
	{
		"sreavr__",
		&SoulReaverInit,
		&SoulReaverProcess,
		&SoulReaverCollide,
		&SoulReaverQuery,
		&SoulReaverPost,
		NULL,
		NULL,
		NULL
	},
	{
		"glphicon",
		&GlyphInit,
		NULL,
		&GlyphCollide,
		&GlyphQuery,
		&GlyphPost,
		NULL,
		NULL,
		NULL
	},
	{
		"physical",
		&InitPhysicalObject,
		&ProcessPhysicalObject,
		&CollidePhysicalObject,
		&PhysicalObjectQuery,
		&PhysicalObjectPost,
		NULL,
		&PhysicalRelocateTune,
		NULL
	},
	{
		"monster_",
		&MonsterInit,
		&MonsterProcess,
		&MonsterCollide,
		&MonsterQuery,
		&MonsterMessage,
		additional&MonsterAdditionalCollide,
		&MonsterRelocateTune,
		&MonsterRelocateInstanceObject
	},
	{
		"particle",
		NULL,
		NULL,
		NULL,
		NULL,
		NULL,
		NULL,
		&FX_RelocateGeneric,
		NULL
	},
	{
		"litshaft",
		&LitShaftInit,
		NULL,
		NULL,
		NULL,
		NULL,
		NULL,
		NULL,
		NULL
	},
	{
		NULL,
		NULL,
		NULL,
		NULL,
		NULL,
		NULL,
		NULL,
		NULL,
		NULL
	}
};*/

struct ObjectFunc objectFunc[8] =
{
	{
		"raziel__",
		RazielInit,
		RazielProcess,
		RazielCollide,
		RazielQuery,
		RazielPost,
		RazielAdditionalCollide,
		NULL,
		NULL
	},
	{
		"sreaver__",
		SoulReaverInit,
		SoulReaverProcess,
		SoulReaverCollide,
		SoulReaverQuery,
		SoulReaverPost,
		NULL,
		NULL,
		NULL
	},
	{
		"glphicon",
		GlyphInit,
		NULL,
		GlyphCollide,
		GlyphQuery,
		GlyphPost,
		NULL,
		NULL,
		NULL
	},
	{
		"physical",
		InitPhysicalObject,
		ProcessPhysicalObject,
		CollidePhysicalObject,
		PhysicalObjectQuery,
		PhysicalObjectPost,
		NULL,
		PhysicalRelocateTune,
		NULL
	},
	{
		"monster_",
		MonsterInit,
		MonsterProcess,
		MonsterCollide,
		MonsterQuery,
		MonsterMessage,
		MonsterAdditionalCollide,
		MonsterRelocateTune,
		MonsterRelocateInstanceObject
	},
	{
		"particle",
		NULL,
		NULL,
		NULL,
		NULL,
		NULL,
		NULL,
		FX_RelocateGeneric,
		NULL
	},
	{
		"litshaft",
		LitShaftInit,
		NULL,
		NULL,
		NULL,
		NULL,
		NULL,
		NULL,
		NULL
	}
};

// autogenerated function stub: 
// void /*$ra*/ OBTABLE_InstanceInit(struct _Instance *instance /*$s0*/)
void OBTABLE_InstanceInit(struct _Instance *instance)
{ // line 88, offset 0x8003d9ac
	/* begin block 1 */
		// Start line: 89
		// Start offset: 0x8003D9AC
		// Variables:
			long id; // $a0
	/* end block 1 */
	// End offset: 0x8003DA80
	// End Line: 126

	/* begin block 2 */
		// Start line: 176
	/* end block 2 */
	// End Line: 177

}

void OBTABLE_GetInstanceCollideFunc(struct _Instance *instance)
{
	long id;

	id = instance->object->id;

	if (id >= 0)
	{
		instance->collideFunc = objectFunc[id].collideFunc;
	}
	else
	{
		instance->collideFunc = GenericCollide;
	}
}


// autogenerated function stub: 
// void /*$ra*/ OBTABLE_GetInstanceAdditionalCollideFunc(struct _Instance *instance /*$a0*/)
void OBTABLE_GetInstanceAdditionalCollideFunc(struct _Instance *instance)
{ // line 176, offset 0x8003dad8
	/* begin block 1 */
		// Start line: 178
		// Start offset: 0x8003DAD8
		// Variables:
			long id; // $a1
	/* end block 1 */
	// End offset: 0x8003DB10
	// End Line: 190

	/* begin block 2 */
		// Start line: 353
	/* end block 2 */
	// End Line: 354

	/* begin block 3 */
		// Start line: 354
	/* end block 3 */
	// End Line: 355

}

void OBTABLE_GetInstanceProcessFunc(struct _Instance *instance)
{
	long id;
	
	id = instance->object->id;

	if (id > 0)
	{
		instance->processFunc = objectFunc[id].processFunc;
	}
	else
	{
		instance->processFunc = GenericProcess;
	}
}

void OBTABLE_GetInstanceQueryFunc(struct _Instance *instance)
{ 
	long id;

	id = instance->object->id;
	
	if (id >= 0)
	{
		instance->queryFunc = objectFunc[id].queryFunc;
	}
	else
	{
		instance->queryFunc = GenericQuery;
	}
}


// autogenerated function stub: 
// void /*$ra*/ OBTABLE_GetInstanceMessageFunc(struct _Instance *instance /*$a0*/)
void OBTABLE_GetInstanceMessageFunc(struct _Instance *instance)
{ // line 266, offset 0x8003dba8
	/* begin block 1 */
		// Start line: 268
		// Start offset: 0x8003DBA8
		// Variables:
			long id; // $a1
	/* end block 1 */
	// End offset: 0x8003DBE8
	// End Line: 280

	/* begin block 2 */
		// Start line: 533
	/* end block 2 */
	// End Line: 534

	/* begin block 3 */
		// Start line: 534
	/* end block 3 */
	// End Line: 535

}


// autogenerated function stub: 
// void /*$ra*/ OBTABLE_InitObjectWithID(struct Object *object /*$s2*/)
void OBTABLE_InitObjectWithID(struct Object *object)
{ // line 283, offset 0x8003dbf0
	/* begin block 1 */
		// Start line: 284
		// Start offset: 0x8003DBF0
		// Variables:
			long id; // $s1

		/* begin block 1.1 */
			// Start line: 289
			// Start offset: 0x8003DC10
			// Variables:
				struct ObjectAccess *oa; // $a0
		/* end block 1.1 */
		// End offset: 0x8003DDAC
		// End Line: 349
	/* end block 1 */
	// End offset: 0x8003DDAC
	// End Line: 350

	/* begin block 2 */
		// Start line: 567
	/* end block 2 */
	// End Line: 568

}

void OBTABLE_ClearObjectReferences()
{
	ObjectAccess* oa = objectAccess;
	while (oa->objectName != NULL)
	{
		oa->object = NULL;
		oa++;
	}
}

// autogenerated function stub: 
// void /*$ra*/ OBTABLE_RemoveObjectEntry(struct Object *object /*$a0*/)
void OBTABLE_RemoveObjectEntry(struct Object *object)
{ // line 380, offset 0x8003ddfc
	/* begin block 1 */
		// Start line: 382
		// Start offset: 0x8003DDFC
		// Variables:
			struct ObjectAccess *oa; // $a1
	/* end block 1 */
	// End offset: 0x8003DE3C
	// End Line: 392

	/* begin block 2 */
		// Start line: 779
	/* end block 2 */
	// End Line: 780

	/* begin block 3 */
		// Start line: 780
	/* end block 3 */
	// End Line: 781

	/* begin block 4 */
		// Start line: 782
	/* end block 4 */
	// End Line: 783

}


// autogenerated function stub: 
// struct Object * /*$ra*/ OBTABLE_FindObject(char *objectName /*$s3*/)
struct Object * OBTABLE_FindObject(char *objectName)
{ // line 394, offset 0x8003de44
	/* begin block 1 */
		// Start line: 395
		// Start offset: 0x8003DE44
		// Variables:
			struct Object *object; // $s0
			struct _ObjectTracker *otr; // $v0
			int i; // $s2
	/* end block 1 */
	// End offset: 0x8003DED4
	// End Line: 412

	/* begin block 2 */
		// Start line: 812
	/* end block 2 */
	// End Line: 813

	/* begin block 3 */
		// Start line: 817
	/* end block 3 */
	// End Line: 818

	return null;
}


// autogenerated function stub: 
// void /*$ra*/ OBTABLE_ChangeObjectAccessPointers(struct Object *oldObject /*$a0*/, struct Object *newObject /*$a1*/)
void OBTABLE_ChangeObjectAccessPointers(struct Object *oldObject, struct Object *newObject)
{ // line 414, offset 0x8003def0
	/* begin block 1 */
		// Start line: 416
		// Start offset: 0x8003DEF0
		// Variables:
			struct ObjectAccess *oa; // $a2
	/* end block 1 */
	// End offset: 0x8003DF30
	// End Line: 426

	/* begin block 2 */
		// Start line: 869
	/* end block 2 */
	// End Line: 870

	/* begin block 3 */
		// Start line: 870
	/* end block 3 */
	// End Line: 871

	/* begin block 4 */
		// Start line: 872
	/* end block 4 */
	// End Line: 873

}


// autogenerated function stub: 
// void /*$ra*/ OBTABLE_RelocateObjectTune(struct Object *object /*$a0*/, long offset /*$a1*/)
void OBTABLE_RelocateObjectTune(struct Object *object, long offset)
{ // line 428, offset 0x8003df38
	/* begin block 1 */
		// Start line: 429
		// Start offset: 0x8003DF38
		// Variables:
			long id; // $a2

		/* begin block 1.1 */
			// Start line: 442
			// Start offset: 0x8003DF84
		/* end block 1.1 */
		// End offset: 0x8003DF8C
		// End Line: 444
	/* end block 1 */
	// End offset: 0x8003DF8C
	// End Line: 445

	/* begin block 2 */
		// Start line: 902
	/* end block 2 */
	// End Line: 903

}


// autogenerated function stub: 
// void /*$ra*/ OBTABLE_RelocateInstanceObject(struct _Instance *instance /*$a0*/, long offset /*$a1*/)
void OBTABLE_RelocateInstanceObject(struct _Instance *instance, long offset)
{ // line 447, offset 0x8003df9c
	/* begin block 1 */
		// Start line: 448
		// Start offset: 0x8003DF9C
		// Variables:
			long id; // $a2
	/* end block 1 */
	// End offset: 0x8003DFE8
	// End Line: 459

	/* begin block 2 */
		// Start line: 940
	/* end block 2 */
	// End Line: 941

}


// autogenerated function stub: 
// void /*$ra*/ OBTABLE_InitAnimPointers(struct _ObjectTracker *objectTracker /*$s5*/)
void OBTABLE_InitAnimPointers(struct _ObjectTracker *objectTracker)
{ // line 461, offset 0x8003dff8
	/* begin block 1 */
		// Start line: 462
		// Start offset: 0x8003DFF8
		// Variables:
			struct Object *object; // $s3

		/* begin block 1.1 */
			// Start line: 467
			// Start offset: 0x8003E038
			// Variables:
				int i; // $s2
				char *earlyOut; // $s4
				struct _G2AnimKeylist_Type **keyPtr; // $s1

			/* begin block 1.1.1 */
				// Start line: 473
				// Start offset: 0x8003E048
				// Variables:
					struct _ObjectOwnerInfo *oi; // $s0

				/* begin block 1.1.1.1 */
					// Start line: 477
					// Start offset: 0x8003E060
					// Variables:
						struct _ObjectTracker *otr; // $a2
						struct Object *ownerOb; // $a3
						int j; // $a1
						int objectIndex; // $a0
				/* end block 1.1.1.1 */
				// End offset: 0x8003E130
				// End Line: 504
			/* end block 1.1.1 */
			// End offset: 0x8003E130
			// End Line: 505
		/* end block 1.1 */
		// End offset: 0x8003E154
		// End Line: 514
	/* end block 1 */
	// End offset: 0x8003E170
	// End Line: 521

	/* begin block 2 */
		// Start line: 968
	/* end block 2 */
	// End Line: 969

}




